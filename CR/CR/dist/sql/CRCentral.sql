--  Generar SQL
--  Versión:                   	V5R4M0 060210
--  Generado en:              	03/08/09 13:13:50
--  Base de datos relacional:       	S10E909D
--  Opción de estándares:          	DB2 UDB iSeries

CREATE SCHEMA CR ;

CREATE TABLE CR.AFILIADO (
	CODAFILIADO FOR COLUMN CODAF00001 VARCHAR(12) CCSID 284 NOT NULL DEFAULT '' ,
	TIPOAFILIADO FOR COLUMN TIPOA00001 CHAR(1) CCSID 284 NOT NULL DEFAULT '' ,
	NOMBRE VARCHAR(100) CCSID 284 NOT NULL DEFAULT '' ,
	APELLIDO VARCHAR(100) CCSID 284 DEFAULT NULL ,
	NUMTIENDA SMALLINT NOT NULL DEFAULT 0 ,
	NUMFICHA VARCHAR(8) CCSID 284 DEFAULT NULL ,
	CODDEPARTAMENTO FOR COLUMN CODDE00001 CHAR(2) CCSID 284 DEFAULT NULL ,
	CODCARGO VARCHAR(4) CCSID 284 DEFAULT NULL ,
	NITCLIENTE VARCHAR(12) CCSID 284 DEFAULT NULL ,
	DIRECCION VARCHAR(250) CCSID 284 NOT NULL DEFAULT '' ,
	DIRECCIONFISCAL FOR COLUMN DIREC00001 VARCHAR(250) CCSID 284 DEFAULT NULL ,
	EMAIL VARCHAR(50) CCSID 284 DEFAULT NULL ,
	CODAREA VARCHAR(9) CCSID 284 DEFAULT NULL ,
	NUMTELEFONO FOR COLUMN NUMTE00001 VARCHAR(9) CCSID 284 DEFAULT NULL ,
	CODAREA1 VARCHAR(9) CCSID 284 DEFAULT NULL ,
	NUMTELEFONO1 FOR COLUMN NUMTE00002 VARCHAR(9) CCSID 284 DEFAULT NULL ,
	FECHAAFILIACION FOR COLUMN FECHA00001 DATE NOT NULL ,
	EXENTOIMPUESTO FOR COLUMN EXENT00001 CHAR(1) CCSID 284 NOT NULL DEFAULT 'N' ,
	REGISTRADO CHAR(1) CCSID 284 NOT NULL DEFAULT 'N' ,
	CONTACTAR CHAR(1) CCSID 284 NOT NULL DEFAULT 'N' ,
	CODREGION CHAR(3) CCSID 284 NOT NULL DEFAULT '000' ,
	ESTADOAFILIADO FOR COLUMN ESTAD00001 CHAR(1) CCSID 284 NOT NULL DEFAULT 'A' ,
	ESTADOCOLABORADOR FOR COLUMN ESTAD00002 CHAR(1) CCSID 284 NOT NULL DEFAULT 'A' ,
	ACTUALIZACION FOR COLUMN ACTUA00001 TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ,
	GENERO CHAR(1) CCSID 284 NOT NULL DEFAULT '' ,
	ESTADOCIVIL FOR COLUMN ESTAD00003 CHAR(1) CCSID 284 NOT NULL DEFAULT '' ,
	FECHANACIMIENTO FOR COLUMN FECHA00002 DATE DEFAULT '1900-01-01' ,
	CONSTRAINT CR.Q_CR_AFILIADO_CODAF00001_00001 PRIMARY KEY( CODAFILIADO , REGISTRADO ) )
	;

LABEL ON TABLE CR.AFILIADO
	IS 'Maestro de afiliados Temporales' ;

CREATE TABLE CR.AFILIADO1 (
	CODAFILIADO FOR COLUMN CODAF00001 VARCHAR(12) CCSID 284 NOT NULL DEFAULT '' ,
	TIPOAFILIADO FOR COLUMN TIPOA00001 CHAR(1) CCSID 284 NOT NULL DEFAULT '' ,
	NOMBRE VARCHAR(100) CCSID 284 NOT NULL DEFAULT '' ,
	APELLIDO VARCHAR(100) CCSID 284 DEFAULT NULL ,
	NUMTIENDA SMALLINT NOT NULL DEFAULT 0 ,
	NUMFICHA VARCHAR(8) CCSID 284 DEFAULT NULL ,
	CODDEPARTAMENTO FOR COLUMN CODDE00001 CHAR(2) CCSID 284 DEFAULT NULL ,
	CODCARGO VARCHAR(4) CCSID 284 DEFAULT NULL ,
	NITCLIENTE VARCHAR(12) CCSID 284 DEFAULT NULL ,
	DIRECCION VARCHAR(250) CCSID 284 NOT NULL DEFAULT '' ,
	DIRECCIONFISCAL FOR COLUMN DIREC00001 VARCHAR(250) CCSID 284 DEFAULT NULL ,
	EMAIL VARCHAR(50) CCSID 284 DEFAULT NULL ,
	CODAREA VARCHAR(9) CCSID 284 DEFAULT NULL ,
	NUMTELEFONO FOR COLUMN NUMTE00001 VARCHAR(9) CCSID 284 DEFAULT NULL ,
	CODAREA1 VARCHAR(9) CCSID 284 DEFAULT NULL ,
	NUMTELEFONO1 FOR COLUMN NUMTE00002 VARCHAR(9) CCSID 284 DEFAULT NULL ,
	FECHAAFILIACION FOR COLUMN FECHA00001 DATE NOT NULL ,
	EXENTOIMPUESTO FOR COLUMN EXENT00001 CHAR(1) CCSID 284 NOT NULL DEFAULT 'N' ,
	REGISTRADO CHAR(1) CCSID 284 NOT NULL DEFAULT 'N' ,
	CONTACTAR CHAR(1) CCSID 284 NOT NULL DEFAULT 'N' ,
	CODREGION CHAR(3) CCSID 284 NOT NULL DEFAULT '000' ,
	ESTADOAFILIADO FOR COLUMN ESTAD00001 CHAR(1) CCSID 284 NOT NULL DEFAULT 'A' ,
	ESTADOCOLABORADOR FOR COLUMN ESTAD00002 CHAR(1) CCSID 284 NOT NULL DEFAULT 'A' ,
	ACTUALIZACION FOR COLUMN ACTUA00001 TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ,
	GENERO CHAR(1) CCSID 284 NOT NULL DEFAULT '' ,
	ESTADOCIVIL FOR COLUMN ESTAD00003 CHAR(1) CCSID 284 NOT NULL DEFAULT '' ,
	FECHANACIMIENTO FOR COLUMN FECHA00002 DATE DEFAULT '1900-01-01' ,
	CONSTRAINT CR.Q_CR_AFILIADO1_CODAF00001_00001 PRIMARY KEY( CODAFILIADO ) )
	;

LABEL ON TABLE CR.AFILIADO1
	IS 'Maestro de Afiliados' ;

CREATE TABLE CR.AFILIADOBK (
	CODAFILIADO FOR COLUMN CODAF00001 VARCHAR(12) CCSID 284 NOT NULL DEFAULT '' ,
	TIPOAFILIADO FOR COLUMN TIPOA00001 CHAR(1) CCSID 284 NOT NULL DEFAULT '' ,
	NOMBRE VARCHAR(100) CCSID 284 NOT NULL DEFAULT '' ,
	APELLIDO VARCHAR(100) CCSID 284 DEFAULT NULL ,
	NUMTIENDA SMALLINT NOT NULL DEFAULT 0 ,
	NUMFICHA VARCHAR(8) CCSID 284 DEFAULT NULL ,
	CODDEPARTAMENTO FOR COLUMN CODDE00001 CHAR(2) CCSID 284 DEFAULT NULL ,
	CODCARGO VARCHAR(4) CCSID 284 DEFAULT NULL ,
	NITCLIENTE VARCHAR(12) CCSID 284 DEFAULT NULL ,
	DIRECCION VARCHAR(250) CCSID 284 NOT NULL DEFAULT '' ,
	DIRECCIONFISCAL FOR COLUMN DIREC00001 VARCHAR(250) CCSID 284 DEFAULT NULL ,
	EMAIL VARCHAR(50) CCSID 284 DEFAULT NULL ,
	CODAREA VARCHAR(9) CCSID 284 DEFAULT NULL ,
	NUMTELEFONO FOR COLUMN NUMTE00001 VARCHAR(9) CCSID 284 DEFAULT NULL ,
	CODAREA1 VARCHAR(9) CCSID 284 DEFAULT NULL ,
	NUMTELEFONO1 FOR COLUMN NUMTE00002 VARCHAR(9) CCSID 284 DEFAULT NULL ,
	FECHAAFILIACION FOR COLUMN FECHA00001 DATE NOT NULL ,
	EXENTOIMPUESTO FOR COLUMN EXENT00001 CHAR(1) CCSID 284 NOT NULL DEFAULT 'N' ,
	REGISTRADO CHAR(1) CCSID 284 NOT NULL DEFAULT 'N' ,
	CONTACTAR CHAR(1) CCSID 284 NOT NULL DEFAULT 'N' ,
	CODREGION CHAR(3) CCSID 284 NOT NULL DEFAULT '000' ,
	ESTADOAFILIADO FOR COLUMN ESTAD00001 CHAR(1) CCSID 284 NOT NULL DEFAULT 'A' ,
	ESTADOCOLABORADOR FOR COLUMN ESTAD00002 CHAR(1) CCSID 284 NOT NULL DEFAULT 'A' ,
	ACTUALIZACION FOR COLUMN ACTUA00001 TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ,
	CONSTRAINT CR.Q_CR_AFILIADOBK_CODAF00001_00002 PRIMARY KEY( CODAFILIADO ) )
	
	RCDFMT AFILIADO   ;

LABEL ON TABLE CR.AFILIADOBK
	IS 'Maestro de afiliados Temporales' ;

CREATE TABLE CR.AFILIADOSWEB (
	REGI_ID INTEGER NOT NULL DEFAULT 0 ,
	REGI_OFFLINE FOR COLUMN REGI_00001 CHAR(2) CCSID 284 NOT NULL DEFAULT 'N' ,
	REGI_NOMBRE FOR COLUMN REGI_00002 VARCHAR(50) CCSID 284 DEFAULT NULL ,
	REGI_APELLIDO FOR COLUMN REGI_00003 VARCHAR(50) CCSID 284 DEFAULT NULL ,
	REGI_CEDULA FOR COLUMN REGI_00004 VARCHAR(9) CCSID 284 NOT NULL DEFAULT '' ,
	REGI_SEXO VARCHAR(50) CCSID 284 DEFAULT NULL ,
	REGI_FECHA VARCHAR(50) CCSID 284 DEFAULT NULL ,
	REGI_EMAIL VARCHAR(50) CCSID 284 DEFAULT NULL ,
	REGI_TELEFONO FOR COLUMN REGI_00005 VARCHAR(50) CCSID 284 DEFAULT NULL ,
	REGI_CELULAR FOR COLUMN REGI_00006 VARCHAR(50) CCSID 284 DEFAULT NULL ,
	REGI_ESTADO FOR COLUMN REGI_00007 VARCHAR(100) CCSID 284 DEFAULT NULL ,
	REGI_CIUDAD FOR COLUMN REGI_00008 VARCHAR(100) CCSID 284 DEFAULT NULL ,
	REGI_ENVIO CHAR(2) CCSID 284 DEFAULT 'N' ,
	REGI_NACIONALIDAD FOR COLUMN REGI_00009 VARCHAR(50) CCSID 284 NOT NULL DEFAULT '' ,
	REGI_MODA CHAR(2) CCSID 284 DEFAULT 'N' ,
	REGI_HOGAR CHAR(2) CCSID 284 DEFAULT 'N' ,
	REGI_DEPORTE FOR COLUMN REGI_00010 CHAR(2) CCSID 284 DEFAULT 'N' ,
	REGI_INFANTIL FOR COLUMN REGI_00011 CHAR(2) CCSID 284 DEFAULT 'N' ,
	REGI_BELLEZA FOR COLUMN REGI_00012 CHAR(2) CCSID 284 DEFAULT 'N' ,
	REGI_PASAPORTE FOR COLUMN REGI_00013 VARCHAR(50) CCSID 284 DEFAULT NULL ,
	REGI_SMS CHAR(2) CCSID 284 DEFAULT 'N' ,
	REGI_INSCRITO FOR COLUMN REGI_00014 VARCHAR(50) CCSID 284 DEFAULT NULL ,
	REGI_CIVIL VARCHAR(50) CCSID 284 NOT NULL DEFAULT '' ,
	REGI_CONYUGE FOR COLUMN REGI_00015 INTEGER DEFAULT NULL ,
	REGI_URB VARCHAR(100) CCSID 284 NOT NULL DEFAULT '' ,
	REGI_AVE VARCHAR(100) CCSID 284 NOT NULL DEFAULT '' ,
	REGI_VIV VARCHAR(50) CCSID 284 NOT NULL DEFAULT '' ,
	REGI_PISO INTEGER DEFAULT NULL ,
	REGI_APT VARCHAR(50) CCSID 284 DEFAULT NULL ,
	REGI_NOMBRE_CA FOR COLUMN REGI_00016 VARCHAR(50) CCSID 284 NOT NULL DEFAULT '' ,
	REGI_GANO_TREN FOR COLUMN REGI_00017 CHAR(2) CCSID 284 NOT NULL DEFAULT '' ,
	REGI_FECHA_GANO_TREN FOR COLUMN REGI_00018 TIMESTAMP DEFAULT NULL ,
	REGI_TARJETA FOR COLUMN REGI_00019 CHAR(2) CCSID 284 NOT NULL DEFAULT 'N' ,
	REGI_UPDATE FOR COLUMN REGI_00020 TIMESTAMP DEFAULT NULL )
	;

ALTER TABLE CR.AFILIADOSWEB
	ADD CONSTRAINT CR.Q_CR_AFILI00001_REGI_00004_00001
	UNIQUE( REGI_CEDULA ) ;

LABEL ON TABLE CR.AFILIADOSWEB
	IS 'Registro de afiliados de la Web' ;

CREATE TABLE CR.ANULACIONDEABONOS (
	NUMTIENDA SMALLINT NOT NULL DEFAULT 0 ,
	NUMCAJA SMALLINT NOT NULL DEFAULT 0 ,
	NUMABONO INTEGER NOT NULL DEFAULT 0 ,
	FECHAABONO DATE NOT NULL ,
	NUMABONOANULADO FOR COLUMN NUMAB00001 INTEGER NOT NULL DEFAULT 0 ,
	FECHAABONOANULADO FOR COLUMN FECHA00001 DATE NOT NULL ,
	NUMSERVICIO FOR COLUMN NUMSE00001 INTEGER NOT NULL DEFAULT 0 ,
	REGACTUALIZADO FOR COLUMN REGAC00001 CHAR(1) CCSID 284 NOT NULL DEFAULT 'N' ,
	CONSTRAINT CR.Q_CR_ANULA00001_NUMTIENDA_00001 PRIMARY KEY( NUMTIENDA , NUMCAJA , NUMABONO , FECHAABONO , NUMABONOANULADO , FECHAABONOANULADO , NUMSERVICIO ) ) 	
	;

LABEL ON TABLE CR.ANULACIONDEABONOS
	IS 'Tabla referencial de abonos anulados' ;

CREATE TABLE CR.ATCM23 (
	CODEDO SMALLINT NOT NULL ,
	DESEDO VARCHAR(50) CCSID 284 NOT NULL ,
	STAELI CHAR(1) CCSID 284 DEFAULT NULL ,
	USRELI VARCHAR(10) CCSID 284 DEFAULT NULL ,
	ACTUALIZACION FOR COLUMN ACTUA00001 TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP )
	;

LABEL ON TABLE CR.ATCM23
	IS 'Maestro de Estados' ;

CREATE TABLE CR.ATCM24 (
	CODEDO SMALLINT NOT NULL ,
	CODCIU SMALLINT NOT NULL ,
	DESCIU VARCHAR(50) CCSID 284 NOT NULL ,
	CODAREA1 SMALLINT NOT NULL ,
	STAELI CHAR(1) CCSID 284 DEFAULT NULL ,
	USRELI VARCHAR(10) CCSID 284 DEFAULT NULL ,
	ACTUALIZACION FOR COLUMN ACTUA00001 TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP )
	;

LABEL ON TABLE CR.ATCM24
	IS 'Maestro de Ciudades' ;

CREATE TABLE CR.ATCM25 (
	CODEDO SMALLINT NOT NULL ,
	CODCIU SMALLINT NOT NULL ,
	CODURB SMALLINT NOT NULL ,
	DESURB VARCHAR(50) CCSID 284 NOT NULL ,
	ZONPOS VARCHAR(6) CCSID 284 NOT NULL ,
	STAELI CHAR(1) CCSID 284 DEFAULT NULL ,
	USRELI VARCHAR(10) CCSID 284 DEFAULT NULL ,
	ACTUALIZACION FOR COLUMN ACTUA00001 TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP )
	;

LABEL ON TABLE CR.ATCM25
	IS 'Maestro de Urbanizaciones' ;

CREATE TABLE CR.ATCMTRA23 (
	NOMTBL CHAR(6) CCSID 284 NOT NULL ,
	CODEDO SMALLINT NOT NULL ,
	DESEDO VARCHAR(50) CCSID 284 NOT NULL ,
	STAELI CHAR(1) CCSID 284 DEFAULT NULL ,
	USRELI VARCHAR(10) CCSID 284 DEFAULT NULL ,
	ACTUALIZACION FOR COLUMN ACTUA00001 TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP )
	;

LABEL ON TABLE CR.ATCMTRA23
	IS 'Maestro de Estados Transf Inmediata' ;

CREATE TABLE CR.ATCMTRA24 (
	NOMTBL CHAR(6) CCSID 284 NOT NULL ,
	CODEDO SMALLINT NOT NULL ,
	CODCIU SMALLINT NOT NULL ,
	DESCIU VARCHAR(50) CCSID 284 NOT NULL ,
	CODAREA1 SMALLINT NOT NULL ,
	STAELI CHAR(1) CCSID 284 DEFAULT NULL ,
	USRELI VARCHAR(10) CCSID 284 DEFAULT NULL ,
	ACTUALIZACION FOR COLUMN ACTUA00001 TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP )
	;

LABEL ON TABLE CR.ATCMTRA24
	IS 'Maestro de Ciudades Transf Inmediata' ;

CREATE TABLE CR.ATCMTRA25 (
	NOMTBL CHAR(6) CCSID 284 NOT NULL ,
	CODEDO SMALLINT NOT NULL ,
	CODCIU SMALLINT NOT NULL ,
	CODURB SMALLINT NOT NULL ,
	DESURB VARCHAR(50) CCSID 284 NOT NULL ,
	ZONPOS VARCHAR(6) CCSID 284 NOT NULL ,
	STAELI CHAR(1) CCSID 284 DEFAULT NULL ,
	USRELI VARCHAR(10) CCSID 284 DEFAULT NULL ,
	ACTUALIZACION FOR COLUMN ACTUA00001 TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP )
	;

LABEL ON TABLE CR.ATCMTRA25
	IS 'Maestro de Urbanizaciones Transf Inmediata' ;

CREATE TABLE CR.AUDITORIA (
	IDAUDITORIA FOR COLUMN IDAUD00001 SMALLINT NOT NULL ,
	NUMTIENDA SMALLINT NOT NULL DEFAULT 0 ,
	NUMCAJA SMALLINT NOT NULL DEFAULT 0 ,
	CODUSUARIO VARCHAR(8) CCSID 284 NOT NULL DEFAULT '' ,
	TIPOREGISTRO FOR COLUMN TIPOR00001 CHAR(1) CCSID 284 NOT NULL DEFAULT '' ,
	FECHA TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ,
	CODMODULO SMALLINT NOT NULL DEFAULT 0 ,
	CODFUNCION SMALLINT NOT NULL DEFAULT 0 ,
	MENSAJE VARCHAR(100) CCSID 284 NOT NULL DEFAULT '' ,
	NIVELAUDITORIA FOR COLUMN NIVEL00001 CHAR(1) CCSID 284 NOT NULL DEFAULT '1' ,
	REGACTUALIZADO FOR COLUMN REGAC00001 CHAR(1) CCSID 284 NOT NULL DEFAULT 'N' ,
	NUMTRANSACCION FOR COLUMN NUMTR00001 INTEGER DEFAULT NULL ,
	CONSTRAINT CR.Q_CR_AUDITORIA_IDAUD00001_00001 PRIMARY KEY( IDAUDITORIA , NUMTIENDA , NUMCAJA , CODUSUARIO , TIPOREGISTRO , FECHA ) )
	;

LABEL ON TABLE CR.AUDITORIA
	IS 'Maestro de auditorías registradas por el sistema' ;

CREATE TABLE CR.BANCO (
	CODBANCO CHAR(3) CCSID 284 NOT NULL DEFAULT '' ,
	CODEXTERNO VARCHAR(4) CCSID 284 DEFAULT NULL ,
	NOMBRE VARCHAR(40) CCSID 284 NOT NULL DEFAULT '' ,
	REGVIGENTE CHAR(1) CCSID 284 NOT NULL DEFAULT 'S' ,
	CONSTRAINT CR.Q_CR_BANCO_CODBANCO_00001 PRIMARY KEY( CODBANCO ) )
	;

LABEL ON TABLE CR.BANCO
	IS 'Maestro de entidades bancarias' ;

CREATE TABLE CR.CAJA (
	NUMTIENDA SMALLINT NOT NULL DEFAULT 0 ,
	NUMCAJA SMALLINT NOT NULL DEFAULT 0 ,
	IDESTADOCAJA FOR COLUMN IDEST00001 CHAR(2) CCSID 284 NOT NULL DEFAULT '' ,
	CODUSUARIO VARCHAR(8) CCSID 284 DEFAULT NULL ,
	NUMTRANSACCION FOR COLUMN NUMTR00001 INTEGER NOT NULL DEFAULT 0 ,
	NUMNOFISCAL FOR COLUMN NUMNO00001 INTEGER NOT NULL DEFAULT 0 ,
	NUMREGISTRO FOR COLUMN NUMRE00001 INTEGER NOT NULL DEFAULT 0 ,
	NUMSEQMERCHANT FOR COLUMN NUMSE00001 INTEGER NOT NULL DEFAULT 0 ,
	NIVELAUDITORIA FOR COLUMN NIVEL00001 CHAR(1) CCSID 284 NOT NULL DEFAULT '1' ,
	FECHAREPORTEZ FOR COLUMN FECHA00001 DATE NOT NULL ,
	VERSIONSISTEMA FOR COLUMN VERSI00001 VARCHAR(5) CCSID 284 NOT NULL DEFAULT '' ,
	MODELO VARCHAR(20) CCSID 284 DEFAULT NULL ,
	NUMSERIAL VARCHAR(20) ALLOCATE(3) CCSID 284 DEFAULT 'S/N' ,
	MONTORECAUDADO FOR COLUMN MONTO00001 DECIMAL(13, 2) NOT NULL DEFAULT 0 ,
	CIERRECAJERO FOR COLUMN CIERR00001 CHAR(1) CCSID 284 DEFAULT 'N' ,
	IPCAJA VARCHAR(15) CCSID 284 DEFAULT NULL ,
	FECHAIPCAJA FOR COLUMN FECHA00002 TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ,
	CONSTRAINT CR.Q_CR_CAJA_NUMTIENDA_00001 PRIMARY KEY( NUMTIENDA , NUMCAJA ) )
	;

LABEL ON TABLE CR.CAJA
	IS 'Maestro de cajas registradas en la tda' ;

CREATE TABLE CR.CAMBIODELDIA (
	TIPOFORMADEPAGO FOR COLUMN TIPOF00001 SMALLINT NOT NULL DEFAULT 0 ,
	CAMBIODELDIA FOR COLUMN CAMBI00001 DECIMAL(13, 3) NOT NULL DEFAULT 0 ,
	ACTUALIZACION FOR COLUMN ACTUA00001 TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP )
	;

LABEL ON TABLE CR.CAMBIODELDIA
	IS 'Archiva el cambio de la moneda para el dia' ;

CREATE TABLE CR.CARGO (
	CODCARGO VARCHAR(4) ALLOCATE(1) CCSID 284 NOT NULL DEFAULT '0' ,
	NOMBRE VARCHAR(40) ALLOCATE(1) CCSID 284 NOT NULL DEFAULT '0' ,
	CONSTRAINT CR.Q_CR_CARGO_CODCARGO_00001 PRIMARY KEY( CODCARGO ) )
	;

LABEL ON TABLE CR.CARGO
	IS 'Maestro de cargos de la organización' ;

CREATE TABLE CR.CATDEP (
	CODCAT CHAR(2) CCSID 284 NOT NULL ,
	CODDEP CHAR(2) CCSID 284 NOT NULL ,
	CONSTRAINT CR.Q_CR_CATDEP_CODCAT_00001 PRIMARY KEY( CODCAT , CODDEP ) )
	;

LABEL ON TABLE CR.CATDEP
	IS 'Relaciona departamentos con su categoría' ;

CREATE TABLE CR.CODEXT002 (
	CODPRODUCTO FOR COLUMN CODPR00001 VARCHAR(12) CCSID 284 NOT NULL DEFAULT '' ,
	CODEXTERNO VARCHAR(13) CCSID 284 NOT NULL DEFAULT '' ,
	ACTUALIZACION FOR COLUMN ACTUA00001 TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP )
	;

LABEL ON TABLE CR.CODEXT002
	IS 'Maestro de codExternos Tienda 2. Opcion 915' ;

CREATE TABLE CR.CODEXT003 (
	CODPRODUCTO FOR COLUMN CODPR00001 VARCHAR(12) CCSID 284 NOT NULL DEFAULT '' ,
	CODEXTERNO VARCHAR(13) CCSID 284 NOT NULL DEFAULT '' ,
	ACTUALIZACION FOR COLUMN ACTUA00001 TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP )
	;

LABEL ON TABLE CR.CODEXT003
	IS 'Maestro de codExternos Tienda 3. Opcion 915' ;

CREATE TABLE CR.CODEXT007 (
	CODPRODUCTO FOR COLUMN CODPR00001 VARCHAR(12) CCSID 284 NOT NULL DEFAULT '' ,
	CODEXTERNO VARCHAR(13) CCSID 284 NOT NULL DEFAULT '' ,
	ACTUALIZACION FOR COLUMN ACTUA00001 TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP )
	;

LABEL ON TABLE CR.CODEXT007
	IS 'Maestro de codExternos Tienda 7. Opcion 915' ;

CREATE TABLE CR.CODEXT009 (
	CODPRODUCTO FOR COLUMN CODPR00001 VARCHAR(12) CCSID 284 NOT NULL DEFAULT '' ,
	CODEXTERNO VARCHAR(13) CCSID 284 NOT NULL DEFAULT '' ,
	ACTUALIZACION FOR COLUMN ACTUA00001 TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP )
	;

LABEL ON TABLE CR.CODEXT009
	IS 'Maestro de codExternos Tienda 9. Opcion 915' ;

CREATE TABLE CR.CODEXT010 (
	CODPRODUCTO FOR COLUMN CODPR00001 VARCHAR(12) CCSID 284 NOT NULL DEFAULT '' ,
	CODEXTERNO VARCHAR(13) CCSID 284 NOT NULL DEFAULT '' ,
	ACTUALIZACION FOR COLUMN ACTUA00001 TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP )
	;

LABEL ON TABLE CR.CODEXT010
	IS 'Maestro de codExternos Tienda 10. Opcion 915' ;

CREATE TABLE CR.CODEXT015 (
	CODPRODUCTO FOR COLUMN CODPR00001 VARCHAR(12) CCSID 284 NOT NULL DEFAULT '' ,
	CODEXTERNO VARCHAR(13) CCSID 284 NOT NULL DEFAULT '' ,
	ACTUALIZACION FOR COLUMN ACTUA00001 TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP )
	;

LABEL ON TABLE CR.CODEXT015
	IS 'Maestro de codExternos Tienda 15. Opcion 915' ;

CREATE TABLE CR.CODEXT016 (
	CODPRODUCTO FOR COLUMN CODPR00001 VARCHAR(12) CCSID 284 NOT NULL DEFAULT '' ,
	CODEXTERNO VARCHAR(13) CCSID 284 NOT NULL DEFAULT '' ,
	ACTUALIZACION FOR COLUMN ACTUA00001 TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP )
	;

LABEL ON TABLE CR.CODEXT016
	IS 'Maestro de codExternos Tienda 16. Opcion 915' ;

CREATE TABLE CR.CODEXT017 (
	CODPRODUCTO FOR COLUMN CODPR00001 VARCHAR(12) CCSID 284 NOT NULL DEFAULT '' ,
	CODEXTERNO VARCHAR(13) CCSID 284 NOT NULL DEFAULT '' ,
	ACTUALIZACION FOR COLUMN ACTUA00001 TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP )
	;

LABEL ON TABLE CR.CODEXT017
	IS 'Maestro de codExternos Tienda 17. Opcion 915' ;

CREATE TABLE CR.CONDICIONVENTA (
	CODCONDICIONVENTA FOR COLUMN CODCO00001 CHAR(2) CCSID 284 NOT NULL DEFAULT '0' ,
	DESCRIPCION FOR COLUMN DESCR00001 VARCHAR(30) CCSID 284 DEFAULT NULL ,
	CONSTRAINT CR.Q_CR_CONDI00001_CODCO00001_00001 PRIMARY KEY( CODCONDICIONVENTA ) )
	;

LABEL ON TABLE CR.CONDICIONVENTA
	IS 'Maestro de condiciones de ventas para productos' ;

CREATE TABLE CR.CONDVTATIPTRA (
	CONDVENTA CHAR(2) CCSID 284 NOT NULL ,
	TIPTRA CHAR(2) CCSID 284 NOT NULL )
	;

LABEL ON TABLE CR.CONDVTATIPTRA
	IS 'Relación entre condición vta de CR y tipTra en AS' ;

CREATE TABLE CR.DEPARTAMENTO (
	CODDEPARTAMENTO FOR COLUMN CODDE00001 CHAR(2) CCSID 284 NOT NULL DEFAULT '' ,
	NOMBRE VARCHAR(30) CCSID 284 NOT NULL DEFAULT '' ,
	CONSTRAINT CR.Q_CR_DEPAR00001_CODDE00001_00001 PRIMARY KEY( CODDEPARTAMENTO ) )
	;

LABEL ON TABLE CR.DEPARTAMENTO
	IS 'Maestro de departamentos' ;

CREATE TABLE CR.DETALLEAFILIADO (
	NUMTIENDA SMALLINT NOT NULL DEFAULT 0 ,
	CODAFILIADO FOR COLUMN CODAF00001 VARCHAR(12) CCSID 284 NOT NULL DEFAULT '' ,
	MENSAJE VARCHAR(200) CCSID 284 NOT NULL DEFAULT '' ,
	MONTO DECIMAL(13, 2) DEFAULT 0 ,
	PROCESO VARCHAR(7) CCSID 284 DEFAULT '' ,
	NOTIFICADO CHAR(1) CCSID 284 NOT NULL DEFAULT 'N' ,
	ACTUALIZACION FOR COLUMN ACTUA00001 TIMESTAMP NOT NULL ,
	CONSTRAINT CR.Q_CR_DETAL00001_NUMTIENDA_00001 PRIMARY KEY( NUMTIENDA , CODAFILIADO , MENSAJE ) )
	;

LABEL ON TABLE CR.DETALLEAFILIADO
	IS 'Tabla con mensajes para los afiliados' ;

CREATE TABLE CR.DETALLELISTAREGALOS (
	CODLISTA INTEGER NOT NULL ,
	CODPRODUCTO FOR COLUMN CODPR00001 VARCHAR(12) CCSID 284 NOT NULL ,
	CORRELATIVOITEM FOR COLUMN CORRE00001 SMALLINT NOT NULL ,
	CANTIDAD DECIMAL(8, 2) NOT NULL ,
	PRECIOREGULAR FOR COLUMN PRECI00001 DECIMAL(13, 2) NOT NULL ,
	PRECIOFINAL FOR COLUMN PRECI00002 DECIMAL(13, 2) NOT NULL ,
	MONTOIMPUESTO FOR COLUMN MONTO00001 DECIMAL(16, 5) NOT NULL ,
	CODTIPOCAPTURA FOR COLUMN CODTI00001 CHAR(2) CCSID 284 NOT NULL ,
	CODPROMOCION FOR COLUMN CODPR00002 INTEGER DEFAULT NULL ,
	CANTCOMPRADO FOR COLUMN CANTC00001 DECIMAL(8, 2) NOT NULL ,
	MONTOABONOS FOR COLUMN MONTO00002 DECIMAL(13, 2) NOT NULL ,
	ACTUALIZACION FOR COLUMN ACTUA00001 TIMESTAMP NOT NULL )
	;

ALTER TABLE CR.DETALLELISTAREGALOS
	ADD CONSTRAINT CR.Q_CR_DETAL00005_CODLISTA_00001
	UNIQUE( CODLISTA , CODPRODUCTO ) ;

LABEL ON TABLE CR.DETALLELISTAREGALOS
	IS 'Detalle de Listas de Regalos' ;

CREATE TABLE CR.DETALLEOPERACIONLISTAREGALOS (
	NUMOPERACION FOR COLUMN NUMOP00001 INTEGER NOT NULL ,
	CODLISTA INTEGER NOT NULL ,
	CODFORMADEPAGO FOR COLUMN CODFO00001 VARCHAR(10) CCSID 284 NOT NULL ,
	MONTO DECIMAL(13, 2) NOT NULL DEFAULT 0 ,
	CORRELATIVO FOR COLUMN CORRE00001 SMALLINT NOT NULL DEFAULT 0 ,
	REGACTUALIZADO FOR COLUMN REGAC00001 CHAR(1) CCSID 284 NOT NULL DEFAULT 'N' ,
	ACTUALIZACION FOR COLUMN ACTUA00001 TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ,
	MONTOVUELTO FOR COLUMN MONTO00001 DECIMAL(13, 2) NOT NULL DEFAULT 0.00 )
	;

ALTER TABLE CR.DETALLEOPERACIONLISTAREGALOS
	ADD CONSTRAINT CR.Q_CR_DETAL00006_NUMOP00001_00001
	UNIQUE( NUMOPERACION , CODLISTA , CODFORMADEPAGO , CORRELATIVO ) ;

LABEL ON TABLE CR.DETALLEOPERACIONLISTAREGALOS
	IS 'Detalle de Operacion de Lista de Regalos' ;

CREATE TABLE CR.DETALLEPROMOCION (
	CODPROMOCION FOR COLUMN CODPR00001 INTEGER NOT NULL DEFAULT 0 ,
	NUMDETALLE INTEGER NOT NULL DEFAULT 0 ,
	NUMCUPON INTEGER DEFAULT NULL ,
	CODDEPARTAMENTO FOR COLUMN CODDE00001 CHAR(2) CCSID 284 DEFAULT NULL ,
	CODLINEASECCION FOR COLUMN CODLI00001 CHAR(2) CCSID 284 DEFAULT NULL ,
	CODPRODUCTO FOR COLUMN CODPR00002 VARCHAR(12) CCSID 284 DEFAULT NULL ,
	PORCENTAJEDESCUENTO FOR COLUMN PORCE00001 DECIMAL(5, 2) NOT NULL DEFAULT 0 ,
	PRECIOFINAL FOR COLUMN PRECI00001 DECIMAL(13, 2) NOT NULL DEFAULT 0 ,
	CODTIENDA INTEGER NOT NULL DEFAULT 999 )
	;

ALTER TABLE CR.DETALLEPROMOCION
	ADD CONSTRAINT CR.Q_CR_DETAL00002_CODTIENDA_00001
	UNIQUE( CODTIENDA , CODPROMOCION , NUMDETALLE ) ;

LABEL ON TABLE CR.DETALLEPROMOCION
	IS 'Tabla con detalles de los promociones activas' ;

CREATE TABLE CR.DETALLESERVICIO (
	NUMTIENDA SMALLINT NOT NULL DEFAULT 0 ,
	CODTIPOSERVICIO FOR COLUMN CODTI00001 CHAR(2) CCSID 284 NOT NULL DEFAULT '' ,
	NUMSERVICIO FOR COLUMN NUMSE00001 INTEGER NOT NULL DEFAULT 0 ,
	FECHA DATE NOT NULL ,
	CODPRODUCTO FOR COLUMN CODPR00001 VARCHAR(12) CCSID 284 NOT NULL DEFAULT '' ,
	CODCONDICIONVENTA FOR COLUMN CODCO00001 CHAR(2) CCSID 284 NOT NULL DEFAULT '' ,
	CORRELATIVOITEM FOR COLUMN CORRE00001 SMALLINT NOT NULL DEFAULT 0 ,
	CANTIDAD DECIMAL(13, 2) NOT NULL DEFAULT 0 ,
	PRECIOREGULAR FOR COLUMN PRECI00001 DECIMAL(13, 2) NOT NULL DEFAULT 0 ,
	PRECIOFINAL FOR COLUMN PRECI00002 DECIMAL(13, 2) NOT NULL DEFAULT 0 ,
	MONTOIMPUESTO FOR COLUMN MONTO00001 DECIMAL(16, 5) NOT NULL DEFAULT 0 ,
	CODTIPOCAPTURA FOR COLUMN CODTI00002 CHAR(2) CCSID 284 NOT NULL DEFAULT '' ,
	CODPROMOCION FOR COLUMN CODPR00002 INTEGER DEFAULT NULL ,
	ESTADOREGISTRO FOR COLUMN ESTAD00001 CHAR(1) CCSID 284 NOT NULL DEFAULT 'V' ,
	REGACTUALIZADO FOR COLUMN REGAC00001 CHAR(1) CCSID 284 NOT NULL DEFAULT 'N' ,
	CONSTRAINT CR.Q_CR_DETAL00003_NUMTIENDA_00001 PRIMARY KEY( NUMTIENDA , CODTIPOSERVICIO , NUMSERVICIO , FECHA , CODPRODUCTO , CODCONDICIONVENTA ,	CORRELATIVOITEM ) )
	;

LABEL ON TABLE CR.DETALLESERVICIO
	IS 'Tabla con detalles de los servicios vigentes' ;

CREATE TABLE CR.DETALLETRANSACCION (
	NUMTIENDA SMALLINT NOT NULL DEFAULT 0 ,
	FECHA DATE NOT NULL ,
	NUMCAJAINICIA FOR COLUMN NUMCA00001 SMALLINT NOT NULL DEFAULT 0 ,
	NUMREGCAJAINICIA FOR COLUMN NUMRE00001 INTEGER NOT NULL DEFAULT 0 ,
	CODPRODUCTO FOR COLUMN CODPR00001 VARCHAR(12) CCSID 284 NOT NULL DEFAULT '' ,
	CODCONDICIONVENTA FOR COLUMN CODCO00001 CHAR(2) CCSID 284 NOT NULL DEFAULT '' ,
	CORRELATIVOITEM FOR COLUMN CORRE00001 SMALLINT NOT NULL DEFAULT 0 ,
	NUMCAJAFINALIZA FOR COLUMN NUMCA00002 SMALLINT DEFAULT NULL ,
	NUMTRANSACCION FOR COLUMN NUMTR00001 INTEGER DEFAULT NULL ,
	CANTIDAD DECIMAL(8, 2) NOT NULL DEFAULT 0 ,
	CODVENDEDOR FOR COLUMN CODVE00001 VARCHAR(8) CCSID 284 DEFAULT NULL ,
	PRECIOREGULAR FOR COLUMN PRECI00001 DECIMAL(13, 2) DEFAULT 0 ,
	CODSUPERVISOR FOR COLUMN CODSU00001 VARCHAR(8) CCSID 284 DEFAULT NULL ,
	PRECIOFINAL FOR COLUMN PRECI00002 DECIMAL(13, 2) NOT NULL DEFAULT 0 ,
	MONTOIMPUESTO FOR COLUMN MONTO00001 DECIMAL(16, 5) NOT NULL DEFAULT 0 ,
	DESCTOEMPLEADO FOR COLUMN DESCT00001 DECIMAL(13, 2) NOT NULL DEFAULT 0 ,
	DESPACHARPRODUCTO FOR COLUMN DESPA00001 CHAR(1) CCSID 284 NOT NULL DEFAULT '' ,
	CODPROMOCION FOR COLUMN CODPR00002 INTEGER DEFAULT NULL ,
	CODTIPOCAPTURA FOR COLUMN CODTI00001 CHAR(2) CCSID 284 NOT NULL DEFAULT '' ,
	REGACTUALIZADO FOR COLUMN REGAC00001 CHAR(1) CCSID 284 NOT NULL DEFAULT 'N' ,
	CONSTRAINT CR.Q_CR_DETAL00004_NUMTIENDA_00001 PRIMARY KEY( NUMTIENDA , FECHA , NUMCAJAINICIA , NUMREGCAJAINICIA , CODPRODUCTO , CODCONDICIONVENTA ,	CORRELATIVOITEM ) )
	;

LABEL ON TABLE CR.DETALLETRANSACCION
	IS 'Tabla con los detalles de las transacciones' ;

CREATE TABLE CR.DETALLETRANSACCIONCONDICION (
	NUMTIENDA SMALLINT NOT NULL DEFAULT 0 ,
	FECHA DATE NOT NULL ,
	NUMCAJAINICIA FOR COLUMN NUMCA00001 SMALLINT NOT NULL DEFAULT 0 ,
	NUMREGCAJAINICIA FOR COLUMN NUMRE00001 INTEGER NOT NULL DEFAULT 0 ,
	CODPRODUCTO FOR COLUMN CODPR00001 VARCHAR(12) CCSID 284 NOT NULL DEFAULT '' ,
	CONDICIONVENTA FOR COLUMN CONDI00001 CHAR(2) CCSID 284 NOT NULL DEFAULT '' ,
	CORRELATIVOITEM FOR COLUMN CORRE00001 SMALLINT NOT NULL DEFAULT 0 ,
	CODCONDICIONVENTA FOR COLUMN CODCO00001 CHAR(2) CCSID 284 NOT NULL DEFAULT '' ,
	NOMBREPROMOCION FOR COLUMN NOMBR00001 VARCHAR(60) CCSID 284 NOT NULL DEFAULT '' ,
	PORCENTAJEDESCUENTO FOR COLUMN PORCE00001 DECIMAL(5, 2) NOT NULL DEFAULT 0.00 ,
	REGACTUALIZADO FOR COLUMN REGAC00001 CHAR(1) CCSID 284 NOT NULL DEFAULT 'N' ,
	CODPROMOCION FOR COLUMN CODPR00002 INTEGER NOT NULL DEFAULT 0 ,
	MONTODCTOCOMBO FOR COLUMN MONTO00001 DECIMAL(13, 2) DEFAULT NULL ,
	NUMTRANSACCION FOR COLUMN NUMTR00001 INTEGER NOT NULL DEFAULT 0 ,
	PRIORIDADPROMOCION FOR COLUMN PRIOR00001 INTEGER NOT NULL DEFAULT 0 ,
	CONSTRAINT CR.Q_CR_DETAL00005_NUMTIENDA_00001 PRIMARY KEY( NUMTIENDA , FECHA , NUMCAJAINICIA , NUMREGCAJAINICIA , CODPRODUCTO , CONDICIONVENTA ,	CORRELATIVOITEM , CODCONDICIONVENTA ) )
	;

LABEL ON TABLE CR.DETALLETRANSACCIONCONDICION
	IS 'Condiciones de Venta de Detalles de Transacción' ;

CREATE TABLE CR.DETCOMPROMOCION (
	CODPROMOCION FOR COLUMN CODPR00001 INTEGER NOT NULL DEFAULT 0 ,
	NUMDETALLE INTEGER NOT NULL DEFAULT 0 ,
	CODPRODUCTO FOR COLUMN CODPR00002 VARCHAR(12) CCSID 284 DEFAULT NULL ,
	CODTIENDA INTEGER NOT NULL DEFAULT 999 ,
	CONSTRAINT CR.Q_CR_MASIV00001_CODTIENDA_00001 PRIMARY KEY( CODTIENDA , CODPROMOCION , NUMDETALLE ) )
	;

LABEL ON TABLE CR.DETCOMPROMOCION
	IS 'Detalle de Todas las Promociones Enviadas a CR' ;

CREATE TABLE CR.DETPROMOCIONINMEDIATA (
	CODPROMOCION FOR COLUMN CODPR00001 INTEGER NOT NULL DEFAULT 0 ,
	NUMDETALLE INTEGER NOT NULL DEFAULT 0 ,
	NUMCUPON INTEGER DEFAULT NULL ,
	CODDEPARTAMENTO FOR COLUMN CODDE00001 CHAR(2) CCSID 284 DEFAULT NULL ,
	CODLINEASECCION FOR COLUMN CODLI00001 CHAR(2) CCSID 284 DEFAULT NULL ,
	CODPRODUCTO FOR COLUMN CODPR00002 VARCHAR(12) CCSID 284 DEFAULT NULL ,
	PORCENTAJEDESCUENTO FOR COLUMN PORCE00001 DECIMAL(5, 2) NOT NULL DEFAULT 0 ,
	PRECIOFINAL FOR COLUMN PRECI00001 DECIMAL(13, 2) NOT NULL DEFAULT 0 ,
	CODTIENDA INTEGER NOT NULL DEFAULT 999 )
	;

ALTER TABLE CR.DETPROMOCIONINMEDIATA
	ADD CONSTRAINT CR.Q_CR_DETPR00001_CODTIENDA_00001
	UNIQUE( CODTIENDA , CODPROMOCION , NUMDETALLE ) ;

LABEL ON TABLE CR.DETPROMOCIONINMEDIATA
	IS 'Tabla con detalles de promociones activas - 915' ;

CREATE TABLE CR.DEVOLUCIONVENTA (
	NUMTIENDADEVOLUCION FOR COLUMN NUMTI00001 SMALLINT NOT NULL DEFAULT 0 ,
	FECHADEVOLUCION FOR COLUMN FECHA00001 DATE NOT NULL DEFAULT CURRENT_DATE ,
	NUMCAJADEVOLUCION FOR COLUMN NUMCA00001 SMALLINT NOT NULL DEFAULT 0 ,
	NUMTRANSACCIONDEV FOR COLUMN NUMTR00001 INTEGER NOT NULL DEFAULT 0 ,
	NUMTIENDAVENTA FOR COLUMN NUMTI00002 SMALLINT NOT NULL DEFAULT 0 ,
	FECHAVENTA DATE NOT NULL DEFAULT CURRENT_DATE ,
	NUMCAJAVENTA FOR COLUMN NUMCA00002 SMALLINT NOT NULL DEFAULT 0 ,
	NUMTRANSACCIONVTA FOR COLUMN NUMTR00002 INTEGER NOT NULL DEFAULT 0 ,
	TIPOTRANSACCION FOR COLUMN TIPOT00001 CHAR(1) CCSID 284 NOT NULL DEFAULT '' ,
	REGACTUALIZADO FOR COLUMN REGAC00001 CHAR(1) CCSID 284 NOT NULL DEFAULT 'N' ,
	CONSTRAINT CR.Q_CR_DEVOL00001_NUMTI00001_00001 PRIMARY KEY( NUMTIENDADEVOLUCION , FECHADEVOLUCION , NUMCAJADEVOLUCION , NUMTRANSACCIONDEV , NUMTIENDAVENTA ,	FECHAVENTA , NUMCAJAVENTA , NUMTRANSACCIONVTA ) )
	;

CREATE TRIGGER CR.DESMARCARTRANSACCIONREC
	AFTER INSERT ON CR.DEVOLUCIONVENTA
	REFERENCING NEW AS FILANUEVA
	FOR EACH ROW
	MODE DB2ROW
	SET OPTION  ALWBLK = *ALLREAD ,
	ALWCPYDTA = *OPTIMIZE ,
	COMMIT = *NONE ,
	DECRESULT = (31, 31, 00) ,
	DFTRDBCOL = CR ,
	DYNDFTCOL = *NO ,
	DYNUSRPRF = *USER ,
	SRTSEQ = *HEX
	BEGIN ATOMIC
	DELETE FROM CR . TRANSACCIONRECUPERADA D WHERE
		D . NUMTIENDA = FILANUEVA . NUMTIENDAVENTA AND
		D . FECHA = FILANUEVA . FECHAVENTA AND
		D . NUMCAJA = FILANUEVA . NUMCAJAVENTA AND
		D . NUMTRANSACCION = FILANUEVA . NUMTRANSACCIONVTA ;
	END  ;

COMMENT ON TRIGGER CR.DESMARCARTRANSACCIONREC IS 'Desmarca Transaccion recuperada para Devolucion' ;

LABEL ON TABLE CR.DEVOLUCIONVENTA
	IS 'Tabla referencial con las notas de creditos' ;

CREATE TABLE CR.DONACIONESREGISTRADAS (
	MONTODONADO FOR COLUMN MONTO00001 DECIMAL(13, 5) NOT NULL DEFAULT 0 ,
	FECHADONACION FOR COLUMN FECHA00001 DATE NOT NULL ,
	NUMTRANSACCION FOR COLUMN NUMTR00001 INTEGER NOT NULL DEFAULT 0 ,
	NUMCAJA SMALLINT NOT NULL DEFAULT 0 ,
	NUMTIENDA SMALLINT NOT NULL DEFAULT 0 ,
	CODIGODONACION FOR COLUMN CODIG00001 INTEGER NOT NULL DEFAULT 0 ,
	CODIGO INTEGER NOT NULL DEFAULT 0 ,
	REGACTUALIZADO FOR COLUMN REGAC00001 CHAR(1) CCSID 284 DEFAULT 'N' )
	;

ALTER TABLE CR.DONACIONESREGISTRADAS
	ADD CONSTRAINT CR.Q_CR_DONAC00001_FECHA00001_00001
	UNIQUE( FECHADONACION , NUMTRANSACCION , NUMCAJA , NUMTIENDA , CODIGODONACION , CODIGO ) ;

LABEL ON TABLE CR.DONACIONESREGISTRADAS
	IS 'Contiene las donaciones realizadas por Trx' ;

CREATE TABLE CR.ESTADODECAJA (
	IDESTADO CHAR(2) CCSID 284 NOT NULL DEFAULT '' ,
	DESCRIPCION FOR COLUMN DESCR00001 VARCHAR(30) CCSID 284 NOT NULL DEFAULT '' ,
	CONSTRAINT CR.Q_CR_ESTAD00001_IDESTADO_00001 PRIMARY KEY( IDESTADO ) )
	;

LABEL ON TABLE CR.ESTADODECAJA
	IS 'Maestro de estados válidos para la caja' ;

CREATE TABLE CR.ESTADOSAPARTADOS (
	ESTADOSERVICIOCR FOR COLUMN ESTAD00001 CHAR(1) CCSID 284 NOT NULL ,
	STAAPA SMALLINT NOT NULL )
	;

LABEL ON TABLE CR.ESTADOSAPARTADOS
	IS 'Relación entre Estados de Apartados en CR y CB98' ;

CREATE TABLE CR.FORMADEPAGO (
	CODFORMADEPAGO FOR COLUMN CODFO00001 VARCHAR(10) CCSID 284 NOT NULL DEFAULT '' ,
	TIPOFORMADEPAGO FOR COLUMN TIPOF00001 SMALLINT NOT NULL DEFAULT 0 ,
	NOMBRE VARCHAR(30) CCSID 284 NOT NULL DEFAULT '' ,
	CODBANCO CHAR(3) CCSID 284 DEFAULT NULL ,
	INDICARBANCO FOR COLUMN INDIC00001 CHAR(1) CCSID 284 NOT NULL DEFAULT 'N' ,
	INDICARNUMDOCUMENTO FOR COLUMN INDIC00002 CHAR(1) CCSID 284 NOT NULL DEFAULT 'N' ,
	INDICARNUMCUENTA FOR COLUMN INDIC00003 CHAR(1) CCSID 284 NOT NULL DEFAULT 'N' ,
	INDICARNUMCONFORMA FOR COLUMN INDIC00004 CHAR(1) CCSID 284 NOT NULL DEFAULT 'N' ,
	INDICARNUMREFERENCIA FOR COLUMN INDIC00005 CHAR(1) CCSID 284 NOT NULL DEFAULT 'N' ,
	INDICARCEDULATITULAR FOR COLUMN INDIC00006 CHAR(1) CCSID 284 NOT NULL DEFAULT 'N' ,
	VALIDARSALDOCLIENTE FOR COLUMN VALID00001 CHAR(1) CCSID 284 NOT NULL DEFAULT 'N' ,
	MONTOMINIMO FOR COLUMN MONTO00001 DECIMAL(13, 2) DEFAULT NULL ,
	MONTOMAXIMO FOR COLUMN MONTO00002 DECIMAL(13, 2) DEFAULT NULL ,
	MONTOCOMISION FOR COLUMN MONTO00003 DECIMAL(13, 2) DEFAULT NULL ,
	PERMITEVUELTO FOR COLUMN PERMI00001 CHAR(1) CCSID 284 NOT NULL DEFAULT 'N' ,
	ENTREGAPARCIAL FOR COLUMN ENTRE00001 CHAR(1) CCSID 284 NOT NULL DEFAULT 'N' ,
	REQUIEREAUTORIZACION FOR COLUMN REQUI00001 CHAR(1) CCSID 284 NOT NULL DEFAULT 'N' ,
	PRIORIDAD SMALLINT NOT NULL DEFAULT 0 ,
	REGVIGENTE CHAR(1) CCSID 284 NOT NULL DEFAULT 'S' ,
	CONSTRAINT CR.Q_CR_FORMA00001_CODFO00001_00001 PRIMARY KEY( CODFORMADEPAGO ) )
	;

LABEL ON TABLE CR.FORMADEPAGO
	IS 'Maestro de formas de pago disponibles' ;

CREATE TABLE CR.FUNCION (
	CODFUNCION SMALLINT NOT NULL DEFAULT 0 ,
	DESCRIPCION FOR COLUMN DESCR00001 VARCHAR(60) CCSID 284 NOT NULL DEFAULT '' ,
	CODMODULO SMALLINT NOT NULL DEFAULT 0 ,
	NIVELAUDITORIA FOR COLUMN NIVEL00001 CHAR(1) CCSID 284 NOT NULL DEFAULT '1' ,
	REGVIGENTE CHAR(1) CCSID 284 NOT NULL DEFAULT 'S' ,
	ACTUALIZACION FOR COLUMN ACTUA00001 TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ,
	REQAUTORIZACION FOR COLUMN REQAU00001 CHAR(1) CCSID 284 NOT NULL DEFAULT 'S' ,
	CONSTRAINT CR.Q_CR_FUNCION_CODFUNCION_00001 PRIMARY KEY( CODFUNCION , CODMODULO ) )
	;

LABEL ON TABLE CR.FUNCION
	IS 'Maestro de funciones del sistema' ;

CREATE TABLE CR.FUNCIONMETODOS (
	CODMODULO SMALLINT NOT NULL DEFAULT 0 ,
	CODFUNCION SMALLINT NOT NULL DEFAULT 0 ,
	CODMETODO SMALLINT NOT NULL DEFAULT 0 ,
	CONSTRAINT CR.Q_CR_FUNCI00001_CODMODULO_00001 PRIMARY KEY( CODMODULO , CODFUNCION , CODMETODO ) )
	;

LABEL ON TABLE CR.FUNCIONMETODOS
	IS 'Tabla enlaze entre funciones con metodos' ;

CREATE TABLE CR.FUNCIONPERFIL (
	CODPERFIL CHAR(3) CCSID 284 NOT NULL DEFAULT '' ,
	CODFUNCION SMALLINT NOT NULL DEFAULT 0 ,
	HABILITADO CHAR(1) CCSID 284 NOT NULL DEFAULT 'S' ,
	AUTORIZADO CHAR(1) CCSID 284 NOT NULL DEFAULT 'N' ,
	ACTUALIZACION FOR COLUMN ACTUA00001 TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ,
	CODMODULO SMALLINT NOT NULL DEFAULT 0 ,
	CONSTRAINT CR.Q_CR_FUNCI00002_CODPERFIL_00001 PRIMARY KEY( CODPERFIL , CODFUNCION , CODMODULO ) )
	;

LABEL ON TABLE CR.FUNCIONPERFIL
	IS 'Tabla de configuracion de los perfiles' ;

CREATE TABLE CR.IMPUESTOREGION (
	CODIMPUESTO FOR COLUMN CODIM00001 CHAR(3) CCSID 284 NOT NULL DEFAULT '' ,
	CODREGION CHAR(3) CCSID 284 NOT NULL DEFAULT '000' ,
	FECHAEMISION FOR COLUMN FECHA00001 DATE NOT NULL ,
	DESCRIPCION FOR COLUMN DESCR00001 VARCHAR(20) CCSID 284 DEFAULT NULL ,
	PORCENTAJE DECIMAL(5, 2) NOT NULL DEFAULT 0 ,
	CONSTRAINT CR.Q_CR_IMPUE00001_CODIM00001_00001 PRIMARY KEY( CODIMPUESTO , CODREGION , FECHAEMISION ) )
	;

LABEL ON TABLE CR.IMPUESTOREGION
	IS 'Tabla con la informacion de monto de impuesto' ;

CREATE TABLE CR.LINEASECCION (
	CODSECCION CHAR(2) CCSID 284 NOT NULL DEFAULT '' ,
	CODDEPARTAMENTO FOR COLUMN CODDE00001 CHAR(2) CCSID 284 NOT NULL DEFAULT '' ,
	NOMBRE VARCHAR(30) CCSID 284 NOT NULL DEFAULT '' ,
	CONSTRAINT CR.Q_CR_LINEA00001_CODSECCION_00001 PRIMARY KEY( CODSECCION , CODDEPARTAMENTO ) )
	;

LABEL ON TABLE CR.LINEASECCION
	IS 'Maestro de linea/seccion de la organizacion' ;

CREATE TABLE CR.LISTAREGALOS (
	CODLISTA INTEGER NOT NULL ,
	TIPOLISTA CHAR(1) CCSID 284 NOT NULL ,
	CODTITULAR VARCHAR(12) CCSID 284 NOT NULL ,
	FECHAEVENTO FOR COLUMN FECHA00001 DATE NOT NULL ,
	TIPOEVENTO VARCHAR(50) CCSID 284 NOT NULL ,
	TITULARSEC VARCHAR(50) CCSID 284 DEFAULT NULL ,
	FECHAAPERTURA FOR COLUMN FECHA00002 DATE NOT NULL ,
	NUMTIENDAAPERTURA FOR COLUMN NUMTI00001 SMALLINT NOT NULL ,
	NUMCAJAAPERTURA FOR COLUMN NUMCA00001 SMALLINT NOT NULL ,
	CODCAJEROAPERTURA FOR COLUMN CODCA00001 VARCHAR(12) CCSID 284 NOT NULL ,
	FECHACIERRE FOR COLUMN FECHA00003 DATE DEFAULT NULL ,
	NUMTIENDACIERRE FOR COLUMN NUMTI00002 SMALLINT DEFAULT NULL ,
	NUMCAJACIERRE FOR COLUMN NUMCA00002 SMALLINT DEFAULT NULL ,
	CODCAJEROCIERRE FOR COLUMN CODCA00002 VARCHAR(12) CCSID 284 DEFAULT NULL ,
	MONTOBASE DECIMAL(13, 2) NOT NULL ,
	MONTOIMPUESTO FOR COLUMN MONTO00001 DECIMAL(16, 2) NOT NULL ,
	CANTPRODUCTOS FOR COLUMN CANTP00001 SMALLINT NOT NULL ,
	MONTOABONOS FOR COLUMN MONTO00002 DECIMAL(13, 2) NOT NULL ,
	NOTIFICACIONES FOR COLUMN NOTIF00001 CHAR(1) CCSID 284 NOT NULL DEFAULT '' ,
	PERMITIRVENTA FOR COLUMN PERMI00001 CHAR(1) CCSID 284 NOT NULL DEFAULT '' ,
	ESTADO CHAR(1) CCSID 284 NOT NULL DEFAULT ' ' ,
	ACTUALIZACION FOR COLUMN ACTUA00001 TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP )
	;

LABEL ON TABLE CR.LISTAREGALOS
	IS 'Maestro de Lista de Regalos' ;

CREATE TABLE CR.LISTAREGALOSCENTRAL (
	CODLISTA INTEGER NOT NULL ,
	TITULAR VARCHAR(50) CCSID 284 NOT NULL ,
	TITULARSEC VARCHAR(50) CCSID 284 DEFAULT NULL ,
	FECHAEVENTO FOR COLUMN FECHA00001 DATE NOT NULL ,
	TIPOEVENTO VARCHAR(20) CCSID 284 NOT NULL ,
	NUMTIENDA SMALLINT NOT NULL ,
	ESTADO CHAR(1) CCSID 284 NOT NULL DEFAULT '' ,
	NOTIFICACIONES FOR COLUMN NOTIF00001 CHAR(1) CCSID 284 NOT NULL DEFAULT '' ,
	TIENDAULTESTADO FOR COLUMN TIEND00001 SMALLINT DEFAULT NULL ,
	FECHAULTESTADO FOR COLUMN FECHA00002 TIMESTAMP DEFAULT NULL )
	;

ALTER TABLE CR.LISTAREGALOSCENTRAL
	ADD CONSTRAINT CR.Q_CR_LISTA00001_CODLISTA_00001
	UNIQUE( CODLISTA ) ;

LABEL ON TABLE CR.LISTAREGALOSCENTRAL
	IS 'Maestro Central de Lista de Regalos' ;

CREATE TABLE CR.MAQUINADEESTADO (
	EDOINICIAL CHAR(2) CCSID 284 NOT NULL DEFAULT '0' ,
	CODMETODO SMALLINT NOT NULL DEFAULT 0 ,
	EDOFINAL CHAR(2) CCSID 284 NOT NULL DEFAULT '0' ,
	CONSTRAINT CR.Q_CR_MAQUI00001_EDOINICIAL_00001 PRIMARY KEY( EDOINICIAL , CODMETODO ) )
	;

LABEL ON TABLE CR.MAQUINADEESTADO
	IS 'Maestro de metodos disponibles p/Maquina de Estado' ;

CREATE TABLE CR.METODOS (
	CODMETODO SMALLINT NOT NULL DEFAULT 0 ,
	DESCRIPCION FOR COLUMN DESCR00001 VARCHAR(50) ALLOCATE(1) CCSID 284 NOT NULL DEFAULT '0' ,
	CONSTRAINT CR.Q_CR_METODOS_CODMETODO_00001 PRIMARY KEY( CODMETODO ) )
	;

LABEL ON TABLE CR.METODOS
	IS 'Maestro de metodos del sistema' ;

CREATE TABLE CR.MODULOS (
	CODMODULO SMALLINT NOT NULL DEFAULT 0 ,
	DESCRIPCION FOR COLUMN DESCR00001 VARCHAR(30) ALLOCATE(1) CCSID 284 NOT NULL DEFAULT '0' ,
	REGVIGENTE CHAR(1) CCSID 284 NOT NULL DEFAULT 'S' ,
	ACTUALIZACION FOR COLUMN ACTUA00001 TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ,
	CONSTRAINT CR.Q_CR_MODULOS_CODMODULO_00001 PRIMARY KEY( CODMODULO ) )
	;

LABEL ON TABLE CR.MODULOS
	IS 'Maestro de modulos del sistema' ;

CREATE TABLE CR.OPERACIONLISTAREGALOS (
	NUMOPERACION FOR COLUMN NUMOP00001 INTEGER NOT NULL ,
	NUMTRANSACCION FOR COLUMN NUMTR00001 INTEGER DEFAULT NULL ,
	CODCLIENTE VARCHAR(12) CCSID 284 DEFAULT NULL ,
	NOMCLIENTE VARCHAR(50) CCSID 284 DEFAULT NULL ,
	CODLISTA INTEGER NOT NULL ,
	FECHA DATE NOT NULL ,
	TIPOOPERACION FOR COLUMN TIPOO00001 CHAR(1) CCSID 284 NOT NULL ,
	CODPRODUCTO FOR COLUMN CODPR00001 VARCHAR(12) CCSID 284 NOT NULL ,
	MONTOBASE DECIMAL(13, 2) NOT NULL ,
	CANTIDAD DECIMAL(8, 2) NOT NULL ,
	NUMTIENDA SMALLINT NOT NULL ,
	NUMCAJA SMALLINT NOT NULL ,
	CODCAJERO VARCHAR(8) CCSID 284 NOT NULL ,
	DEDICATORIA FOR COLUMN DEDIC00001 VARCHAR(200) CCSID 284 DEFAULT NULL ,
	MONTOIMPUESTO FOR COLUMN MONTO00001 DECIMAL(16, 5) NOT NULL DEFAULT 0 ,
	ACTUALIZACION FOR COLUMN ACTUA00001 TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ,
	CORRELATIVOITEM FOR COLUMN CORRE00001 INTEGER DEFAULT 1 )
	;

ALTER TABLE CR.OPERACIONLISTAREGALOS
	ADD CONSTRAINT CR.Q_CR_OPERA00001_NUMOP00001_00001
	UNIQUE( NUMOPERACION , CODLISTA , TIPOOPERACION , CODPRODUCTO , CORRELATIVOITEM ) ;

LABEL ON TABLE CR.OPERACIONLISTAREGALOS
	IS 'Operaciones realizadas sobre Listas de Regalos' ;

CREATE TABLE CR.PAGODEABONOS (
	NUMTIENDA SMALLINT NOT NULL DEFAULT 0 ,
	NUMCAJA SMALLINT NOT NULL DEFAULT 0 ,
	NUMABONO INTEGER NOT NULL DEFAULT 0 ,
	FECHA DATE NOT NULL ,
	NUMSERVICIO FOR COLUMN NUMSE00001 INTEGER NOT NULL DEFAULT 0 ,
	CODFORMADEPAGO FOR COLUMN CODFO00001 VARCHAR(10) CCSID 284 NOT NULL DEFAULT '' ,
	CORRELATIVOITEM FOR COLUMN CORRE00001 SMALLINT NOT NULL DEFAULT 0 ,
	CODBANCO CHAR(3) CCSID 284 DEFAULT NULL ,
	MONTO DECIMAL(13, 2) NOT NULL DEFAULT 0 ,
	NUMDOCUMENTO FOR COLUMN NUMDO00001 VARCHAR(10) CCSID 284 DEFAULT NULL ,
	NUMCUENTA VARCHAR(20) CCSID 284 DEFAULT NULL ,
	NUMCONFORMACION FOR COLUMN NUMCO00001 INTEGER DEFAULT NULL ,
	NUMREFERENCIA FOR COLUMN NUMRE00001 INTEGER DEFAULT NULL ,
	CEDTITULAR VARCHAR(12) CCSID 284 DEFAULT NULL ,
	REGACTUALIZADO FOR COLUMN REGAC00001 CHAR(1) CCSID 284 NOT NULL DEFAULT 'N' ,
	CONSTRAINT CR.Q_CR_PAGOD00001_NUMTIENDA_00001 PRIMARY KEY( NUMTIENDA , NUMCAJA , NUMABONO , FECHA , NUMSERVICIO , CODFORMADEPAGO , CORRELATIVOITEM ) )
	;

LABEL ON TABLE CR.PAGODEABONOS
	IS 'Detalle de pagos efectuados por concepto de abono' ;

CREATE TABLE CR.PAGODETRANSACCION (
	NUMTIENDA SMALLINT NOT NULL DEFAULT 0 ,
	FECHA DATE NOT NULL ,
	NUMCAJA SMALLINT NOT NULL DEFAULT 0 ,
	NUMTRANSACCION FOR COLUMN NUMTR00001 INTEGER NOT NULL DEFAULT 0 ,
	CODFORMADEPAGO FOR COLUMN CODFO00001 VARCHAR(10) CCSID 284 NOT NULL DEFAULT '' ,
	CORRELATIVOITEM FOR COLUMN CORRE00001 SMALLINT NOT NULL DEFAULT 0 ,
	MONTO DECIMAL(13, 2) NOT NULL DEFAULT 0 ,
	NUMDOCUMENTO FOR COLUMN NUMDO00001 VARCHAR(10) CCSID 284 DEFAULT NULL ,
	NUMCUENTA VARCHAR(20) CCSID 284 DEFAULT NULL ,
	NUMCONFORMACION FOR COLUMN NUMCO00001 VARCHAR(11) CCSID 284 DEFAULT NULL ,
	NUMREFERENCIA FOR COLUMN NUMRE00001 INTEGER DEFAULT NULL ,
	CEDTITULAR VARCHAR(12) CCSID 284 DEFAULT NULL ,
	CODBANCO CHAR(3) CCSID 284 DEFAULT NULL ,
	REGACTUALIZADO FOR COLUMN REGAC00001 CHAR(1) CCSID 284 NOT NULL DEFAULT 'N' ,
	CODAUTORIZANTE FOR COLUMN CODAU00001 VARCHAR(8) CCSID 284 DEFAULT NULL ,
	CONSTRAINT CR.Q_CR_PAGOD00002_NUMTIENDA_00001 PRIMARY KEY( NUMTIENDA , FECHA , NUMCAJA , NUMTRANSACCION , CODFORMADEPAGO , CORRELATIVOITEM ) )
	;

LABEL ON TABLE CR.PAGODETRANSACCION
	IS 'Detalle de pagos efectuados por concepto de ventas' ;

CREATE TABLE CR.PAGODONACION (
	FECHADONACION FOR COLUMN FECHA00001 DATE NOT NULL ,
	NUMTRANSACCION FOR COLUMN NUMTR00001 INTEGER NOT NULL DEFAULT 0 ,
	NUMCAJA SMALLINT NOT NULL DEFAULT 0 ,
	NUMTIENDA SMALLINT NOT NULL DEFAULT 0 ,
	CODIGODONACION FOR COLUMN CODIG00001 INTEGER NOT NULL DEFAULT 0 ,
	CODIGODONACIONREGISTRADA FOR COLUMN CODIG00002 INTEGER NOT NULL DEFAULT 0 ,
	CODIGOPAGO INTEGER NOT NULL DEFAULT 0 ,
	CODIGOFORMAPAGO FOR COLUMN CODIG00003 VARCHAR(10) CCSID 284 NOT NULL DEFAULT '' ,
	MONTO DECIMAL(13, 5) NOT NULL DEFAULT 0 ,
	REGACTUALIZADO FOR COLUMN REGAC00001 CHAR(1) CCSID 284 DEFAULT 'N' )
	;

LABEL ON TABLE CR.PAGODONACION
	IS 'Contiene los pagos de las donaciones reg por Trx' ;

CREATE TABLE CR.PERFIL (
	CODPERFIL CHAR(3) CCSID 284 NOT NULL DEFAULT '' ,
	DESCRIPCION FOR COLUMN DESCR00001 VARCHAR(20) CCSID 284 NOT NULL DEFAULT '' ,
	NIVELAUDITORIA FOR COLUMN NIVEL00001 CHAR(1) CCSID 284 NOT NULL DEFAULT '1' ,
	REGVIGENTE CHAR(1) CCSID 284 NOT NULL DEFAULT 'S' ,
	ACTUALIZACION FOR COLUMN ACTUA00001 TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ,
	CONSTRAINT CR.Q_CR_PERFIL_CODPERFIL_00001 PRIMARY KEY( CODPERFIL ) )
	;

LABEL ON TABLE CR.PERFIL
	IS 'Maestro de perfiles de usuario disponibles' ;

CREATE TABLE CR.PLANIFICADOR (
	NUMTIENDA SMALLINT NOT NULL DEFAULT 0 ,
	NUMCAJA SMALLINT NOT NULL DEFAULT 0 ,
	ENTIDAD VARCHAR(30) CCSID 284 NOT NULL DEFAULT '' ,
	ACTUALIZACION FOR COLUMN ACTUA00001 TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ,
	FALLASINCRONIZADOR FOR COLUMN FALLA00001 CHAR(1) CCSID 284 NOT NULL DEFAULT 'S' ,
	DESTINO CHAR(1) CCSID 284 NOT NULL DEFAULT 'C' ,
	CONSTRAINT CR.Q_CR_PLANI00001_NUMTIENDA_00001 PRIMARY KEY( NUMTIENDA , NUMCAJA , ENTIDAD , DESTINO ) )
	;

LABEL ON TABLE CR.PLANIFICADOR
	IS 'Entidad referencial del funcionamiento del sinc' ;

CREATE TABLE CR.PRODCODIGOEXTERNO (
	CODPRODUCTO FOR COLUMN CODPR00001 VARCHAR(12) CCSID 284 NOT NULL DEFAULT '' ,
	CODEXTERNO VARCHAR(13) CCSID 284 NOT NULL DEFAULT '' ,
	ACTUALIZACION FOR COLUMN ACTUA00001 TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ,
	CONSTRAINT CR.Q_CR_PRODC00001_CODPR00001_00001 PRIMARY KEY( CODEXTERNO ) )
	;

LABEL ON TABLE CR.PRODCODIGOEXTERNO
	IS 'Referencia ntre códigos interno y externo de prod' ;

CREATE TABLE CR.PRODCR002 (
	CODPRODUCTO FOR COLUMN CODPR00001 VARCHAR(12) CCSID 284 NOT NULL DEFAULT '' ,
	DESCRIPCIONCORTA FOR COLUMN DESCR00001 VARCHAR(20) CCSID 284 NOT NULL DEFAULT '' ,
	DESCRIPCIONLARGA FOR COLUMN DESCR00002 VARCHAR(100) CCSID 284 DEFAULT NULL ,
	CODUNIDADVENTA FOR COLUMN CODUN00001 INTEGER NOT NULL DEFAULT 0 ,
	REFERENCIAPROVEEDOR FOR COLUMN REFER00001 VARCHAR(13) CCSID 284 DEFAULT NULL ,
	MARCA VARCHAR(30) CCSID 284 DEFAULT NULL ,
	MODELO VARCHAR(30) CCSID 284 DEFAULT NULL ,
	CODDEPARTAMENTO FOR COLUMN CODDE00001 CHAR(2) CCSID 284 NOT NULL DEFAULT '' ,
	CODLINEASECCION FOR COLUMN CODLI00001 CHAR(2) CCSID 284 NOT NULL DEFAULT '' ,
	COSTOLISTA DECIMAL(13, 2) NOT NULL DEFAULT 0 ,
	PRECIOREGULAR FOR COLUMN PRECI00001 DECIMAL(13, 2) NOT NULL DEFAULT 0 ,
	CODIMPUESTO FOR COLUMN CODIM00001 CHAR(3) CCSID 284 NOT NULL DEFAULT '' ,
	CANTIDADVENTAEMPAQUE FOR COLUMN CANTI00001 INTEGER NOT NULL DEFAULT 0 ,
	DESCTOVENTAEMPAQUE FOR COLUMN DESCT00001 DECIMAL(5, 2) DEFAULT NULL ,
	INDICADESCTOEMPLEADO FOR COLUMN INDIC00001 CHAR(1) CCSID 284 NOT NULL DEFAULT 'N' ,
	INDICADESPACHAR FOR COLUMN INDIC00002 CHAR(1) CCSID 284 DEFAULT 'N' ,
	ESTADOPRODUCTO FOR COLUMN ESTAD00001 CHAR(1) CCSID 284 NOT NULL DEFAULT 'A' ,
	ACTUALIZACION FOR COLUMN ACTUA00001 TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP )
	;

LABEL ON TABLE CR.PRODCR002
	IS 'Maestro de productos Tienda 2. Opcion 915' ;

CREATE TABLE CR.PRODCR003 (
	CODPRODUCTO FOR COLUMN CODPR00001 VARCHAR(12) CCSID 284 NOT NULL DEFAULT '' ,
	DESCRIPCIONCORTA FOR COLUMN DESCR00001 VARCHAR(20) CCSID 284 NOT NULL DEFAULT '' ,
	DESCRIPCIONLARGA FOR COLUMN DESCR00002 VARCHAR(100) CCSID 284 DEFAULT NULL ,
	CODUNIDADVENTA FOR COLUMN CODUN00001 INTEGER NOT NULL DEFAULT 0 ,
	REFERENCIAPROVEEDOR FOR COLUMN REFER00001 VARCHAR(13) CCSID 284 DEFAULT NULL ,
	MARCA VARCHAR(30) CCSID 284 DEFAULT NULL ,
	MODELO VARCHAR(30) CCSID 284 DEFAULT NULL ,
	CODDEPARTAMENTO FOR COLUMN CODDE00001 CHAR(2) CCSID 284 NOT NULL DEFAULT '' ,
	CODLINEASECCION FOR COLUMN CODLI00001 CHAR(2) CCSID 284 NOT NULL DEFAULT '' ,
	COSTOLISTA DECIMAL(13, 2) NOT NULL DEFAULT 0 ,
	PRECIOREGULAR FOR COLUMN PRECI00001 DECIMAL(13, 2) NOT NULL DEFAULT 0 ,
	CODIMPUESTO FOR COLUMN CODIM00001 CHAR(3) CCSID 284 NOT NULL DEFAULT '' ,
	CANTIDADVENTAEMPAQUE FOR COLUMN CANTI00001 INTEGER NOT NULL DEFAULT 0 ,
	DESCTOVENTAEMPAQUE FOR COLUMN DESCT00001 DECIMAL(5, 2) DEFAULT NULL ,
	INDICADESCTOEMPLEADO FOR COLUMN INDIC00001 CHAR(1) CCSID 284 NOT NULL DEFAULT 'N' ,
	INDICADESPACHAR FOR COLUMN INDIC00002 CHAR(1) CCSID 284 DEFAULT 'N' ,
	ESTADOPRODUCTO FOR COLUMN ESTAD00001 CHAR(1) CCSID 284 NOT NULL DEFAULT 'A' ,
	ACTUALIZACION FOR COLUMN ACTUA00001 TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP )
	;

LABEL ON TABLE CR.PRODCR003
	IS 'Maestro de productos Tienda 3. Opcion 915' ;

CREATE TABLE CR.PRODCR007 (
	CODPRODUCTO FOR COLUMN CODPR00001 VARCHAR(12) CCSID 284 NOT NULL DEFAULT '' ,
	DESCRIPCIONCORTA FOR COLUMN DESCR00001 VARCHAR(20) CCSID 284 NOT NULL DEFAULT '' ,
	DESCRIPCIONLARGA FOR COLUMN DESCR00002 VARCHAR(100) CCSID 284 DEFAULT NULL ,
	CODUNIDADVENTA FOR COLUMN CODUN00001 INTEGER NOT NULL DEFAULT 0 ,
	REFERENCIAPROVEEDOR FOR COLUMN REFER00001 VARCHAR(13) CCSID 284 DEFAULT NULL ,
	MARCA VARCHAR(30) CCSID 284 DEFAULT NULL ,
	MODELO VARCHAR(30) CCSID 284 DEFAULT NULL ,
	CODDEPARTAMENTO FOR COLUMN CODDE00001 CHAR(2) CCSID 284 NOT NULL DEFAULT '' ,
	CODLINEASECCION FOR COLUMN CODLI00001 CHAR(2) CCSID 284 NOT NULL DEFAULT '' ,
	COSTOLISTA DECIMAL(13, 2) NOT NULL DEFAULT 0 ,
	PRECIOREGULAR FOR COLUMN PRECI00001 DECIMAL(13, 2) NOT NULL DEFAULT 0 ,
	CODIMPUESTO FOR COLUMN CODIM00001 CHAR(3) CCSID 284 NOT NULL DEFAULT '' ,
	CANTIDADVENTAEMPAQUE FOR COLUMN CANTI00001 INTEGER NOT NULL DEFAULT 0 ,
	DESCTOVENTAEMPAQUE FOR COLUMN DESCT00001 DECIMAL(5, 2) DEFAULT NULL ,
	INDICADESCTOEMPLEADO FOR COLUMN INDIC00001 CHAR(1) CCSID 284 NOT NULL DEFAULT 'N' ,
	INDICADESPACHAR FOR COLUMN INDIC00002 CHAR(1) CCSID 284 DEFAULT 'N' ,
	ESTADOPRODUCTO FOR COLUMN ESTAD00001 CHAR(1) CCSID 284 NOT NULL DEFAULT 'A' ,
	ACTUALIZACION FOR COLUMN ACTUA00001 TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP )
	;

LABEL ON TABLE CR.PRODCR007
	IS 'Maestro de productos Tienda 7. Opcion 915' ;

CREATE TABLE CR.PRODCR009 (
	CODPRODUCTO FOR COLUMN CODPR00001 VARCHAR(12) CCSID 284 NOT NULL DEFAULT '' ,
	DESCRIPCIONCORTA FOR COLUMN DESCR00001 VARCHAR(20) CCSID 284 NOT NULL DEFAULT '' ,
	DESCRIPCIONLARGA FOR COLUMN DESCR00002 VARCHAR(100) CCSID 284 DEFAULT NULL ,
	CODUNIDADVENTA FOR COLUMN CODUN00001 INTEGER NOT NULL DEFAULT 0 ,
	REFERENCIAPROVEEDOR FOR COLUMN REFER00001 VARCHAR(13) CCSID 284 DEFAULT NULL ,
	MARCA VARCHAR(30) CCSID 284 DEFAULT NULL ,
	MODELO VARCHAR(30) CCSID 284 DEFAULT NULL ,
	CODDEPARTAMENTO FOR COLUMN CODDE00001 CHAR(2) CCSID 284 NOT NULL DEFAULT '' ,
	CODLINEASECCION FOR COLUMN CODLI00001 CHAR(2) CCSID 284 NOT NULL DEFAULT '' ,
	COSTOLISTA DECIMAL(13, 2) NOT NULL DEFAULT 0 ,
	PRECIOREGULAR FOR COLUMN PRECI00001 DECIMAL(13, 2) NOT NULL DEFAULT 0 ,
	CODIMPUESTO FOR COLUMN CODIM00001 CHAR(3) CCSID 284 NOT NULL DEFAULT '' ,
	CANTIDADVENTAEMPAQUE FOR COLUMN CANTI00001 INTEGER NOT NULL DEFAULT 0 ,
	DESCTOVENTAEMPAQUE FOR COLUMN DESCT00001 DECIMAL(5, 2) DEFAULT NULL ,
	INDICADESCTOEMPLEADO FOR COLUMN INDIC00001 CHAR(1) CCSID 284 NOT NULL DEFAULT 'N' ,
	INDICADESPACHAR FOR COLUMN INDIC00002 CHAR(1) CCSID 284 DEFAULT 'N' ,
	ESTADOPRODUCTO FOR COLUMN ESTAD00001 CHAR(1) CCSID 284 NOT NULL DEFAULT 'A' ,
	ACTUALIZACION FOR COLUMN ACTUA00001 TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP )
	;

LABEL ON TABLE CR.PRODCR009
	IS 'Maestro de productos Tienda 9. Opcion 915' ;

CREATE TABLE CR.PRODCR010 (
	CODPRODUCTO FOR COLUMN CODPR00001 VARCHAR(12) CCSID 284 NOT NULL DEFAULT '' ,
	DESCRIPCIONCORTA FOR COLUMN DESCR00001 VARCHAR(20) CCSID 284 NOT NULL DEFAULT '' ,
	DESCRIPCIONLARGA FOR COLUMN DESCR00002 VARCHAR(100) CCSID 284 DEFAULT NULL ,
	CODUNIDADVENTA FOR COLUMN CODUN00001 INTEGER NOT NULL DEFAULT 0 ,
	REFERENCIAPROVEEDOR FOR COLUMN REFER00001 VARCHAR(13) CCSID 284 DEFAULT NULL ,
	MARCA VARCHAR(30) CCSID 284 DEFAULT NULL ,
	MODELO VARCHAR(30) CCSID 284 DEFAULT NULL ,
	CODDEPARTAMENTO FOR COLUMN CODDE00001 CHAR(2) CCSID 284 NOT NULL DEFAULT '' ,
	CODLINEASECCION FOR COLUMN CODLI00001 CHAR(2) CCSID 284 NOT NULL DEFAULT '' ,
	COSTOLISTA DECIMAL(13, 2) NOT NULL DEFAULT 0 ,
	PRECIOREGULAR FOR COLUMN PRECI00001 DECIMAL(13, 2) NOT NULL DEFAULT 0 ,
	CODIMPUESTO FOR COLUMN CODIM00001 CHAR(3) CCSID 284 NOT NULL DEFAULT '' ,
	CANTIDADVENTAEMPAQUE FOR COLUMN CANTI00001 INTEGER NOT NULL DEFAULT 0 ,
	DESCTOVENTAEMPAQUE FOR COLUMN DESCT00001 DECIMAL(5, 2) DEFAULT NULL ,
	INDICADESCTOEMPLEADO FOR COLUMN INDIC00001 CHAR(1) CCSID 284 NOT NULL DEFAULT 'N' ,
	INDICADESPACHAR FOR COLUMN INDIC00002 CHAR(1) CCSID 284 DEFAULT 'N' ,
	ESTADOPRODUCTO FOR COLUMN ESTAD00001 CHAR(1) CCSID 284 NOT NULL DEFAULT 'A' ,
	ACTUALIZACION FOR COLUMN ACTUA00001 TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP )
	;

LABEL ON TABLE CR.PRODCR010
	IS 'Maestro de productos Tienda 10. Opcion 915' ;

CREATE TABLE CR.PRODCR015 (
	CODPRODUCTO FOR COLUMN CODPR00001 VARCHAR(12) CCSID 284 NOT NULL DEFAULT '' ,
	DESCRIPCIONCORTA FOR COLUMN DESCR00001 VARCHAR(20) CCSID 284 NOT NULL DEFAULT '' ,
	DESCRIPCIONLARGA FOR COLUMN DESCR00002 VARCHAR(100) CCSID 284 DEFAULT NULL ,
	CODUNIDADVENTA FOR COLUMN CODUN00001 INTEGER NOT NULL DEFAULT 0 ,
	REFERENCIAPROVEEDOR FOR COLUMN REFER00001 VARCHAR(13) CCSID 284 DEFAULT NULL ,
	MARCA VARCHAR(30) CCSID 284 DEFAULT NULL ,
	MODELO VARCHAR(30) CCSID 284 DEFAULT NULL ,
	CODDEPARTAMENTO FOR COLUMN CODDE00001 CHAR(2) CCSID 284 NOT NULL DEFAULT '' ,
	CODLINEASECCION FOR COLUMN CODLI00001 CHAR(2) CCSID 284 NOT NULL DEFAULT '' ,
	COSTOLISTA DECIMAL(13, 2) NOT NULL DEFAULT 0 ,
	PRECIOREGULAR FOR COLUMN PRECI00001 DECIMAL(13, 2) NOT NULL DEFAULT 0 ,
	CODIMPUESTO FOR COLUMN CODIM00001 CHAR(3) CCSID 284 NOT NULL DEFAULT '' ,
	CANTIDADVENTAEMPAQUE FOR COLUMN CANTI00001 INTEGER NOT NULL DEFAULT 0 ,
	DESCTOVENTAEMPAQUE FOR COLUMN DESCT00001 DECIMAL(5, 2) DEFAULT NULL ,
	INDICADESCTOEMPLEADO FOR COLUMN INDIC00001 CHAR(1) CCSID 284 NOT NULL DEFAULT 'N' ,
	INDICADESPACHAR FOR COLUMN INDIC00002 CHAR(1) CCSID 284 DEFAULT 'N' ,
	ESTADOPRODUCTO FOR COLUMN ESTAD00001 CHAR(1) CCSID 284 NOT NULL DEFAULT 'A' ,
	ACTUALIZACION FOR COLUMN ACTUA00001 TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP )
	;

LABEL ON TABLE CR.PRODCR015
	IS 'Maestro de productos Tienda 15. Opcion 915' ;

CREATE TABLE CR.PRODCR016 (
	CODPRODUCTO FOR COLUMN CODPR00001 VARCHAR(12) CCSID 284 NOT NULL DEFAULT '' ,
	DESCRIPCIONCORTA FOR COLUMN DESCR00001 VARCHAR(20) CCSID 284 NOT NULL DEFAULT '' ,
	DESCRIPCIONLARGA FOR COLUMN DESCR00002 VARCHAR(100) CCSID 284 DEFAULT NULL ,
	CODUNIDADVENTA FOR COLUMN CODUN00001 INTEGER NOT NULL DEFAULT 0 ,
	REFERENCIAPROVEEDOR FOR COLUMN REFER00001 VARCHAR(13) CCSID 284 DEFAULT NULL ,
	MARCA VARCHAR(30) CCSID 284 DEFAULT NULL ,
	MODELO VARCHAR(30) CCSID 284 DEFAULT NULL ,
	CODDEPARTAMENTO FOR COLUMN CODDE00001 CHAR(2) CCSID 284 NOT NULL DEFAULT '' ,
	CODLINEASECCION FOR COLUMN CODLI00001 CHAR(2) CCSID 284 NOT NULL DEFAULT '' ,
	COSTOLISTA DECIMAL(13, 2) NOT NULL DEFAULT 0 ,
	PRECIOREGULAR FOR COLUMN PRECI00001 DECIMAL(13, 2) NOT NULL DEFAULT 0 ,
	CODIMPUESTO FOR COLUMN CODIM00001 CHAR(3) CCSID 284 NOT NULL DEFAULT '' ,
	CANTIDADVENTAEMPAQUE FOR COLUMN CANTI00001 INTEGER NOT NULL DEFAULT 0 ,
	DESCTOVENTAEMPAQUE FOR COLUMN DESCT00001 DECIMAL(5, 2) DEFAULT NULL ,
	INDICADESCTOEMPLEADO FOR COLUMN INDIC00001 CHAR(1) CCSID 284 NOT NULL DEFAULT 'N' ,
	INDICADESPACHAR FOR COLUMN INDIC00002 CHAR(1) CCSID 284 DEFAULT 'N' ,
	ESTADOPRODUCTO FOR COLUMN ESTAD00001 CHAR(1) CCSID 284 NOT NULL DEFAULT 'A' ,
	ACTUALIZACION FOR COLUMN ACTUA00001 TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP )
	;

LABEL ON TABLE CR.PRODCR016
	IS 'Maestro de productos Tienda 16. Opcion 915' ;

CREATE TABLE CR.PRODCR017 (
	CODPRODUCTO FOR COLUMN CODPR00001 VARCHAR(12) CCSID 284 NOT NULL DEFAULT '' ,
	DESCRIPCIONCORTA FOR COLUMN DESCR00001 VARCHAR(20) CCSID 284 NOT NULL DEFAULT '' ,
	DESCRIPCIONLARGA FOR COLUMN DESCR00002 VARCHAR(100) CCSID 284 DEFAULT NULL ,
	CODUNIDADVENTA FOR COLUMN CODUN00001 INTEGER NOT NULL DEFAULT 0 ,
	REFERENCIAPROVEEDOR FOR COLUMN REFER00001 VARCHAR(13) CCSID 284 DEFAULT NULL ,
	MARCA VARCHAR(30) CCSID 284 DEFAULT NULL ,
	MODELO VARCHAR(30) CCSID 284 DEFAULT NULL ,
	CODDEPARTAMENTO FOR COLUMN CODDE00001 CHAR(2) CCSID 284 NOT NULL DEFAULT '' ,
	CODLINEASECCION FOR COLUMN CODLI00001 CHAR(2) CCSID 284 NOT NULL DEFAULT '' ,
	COSTOLISTA DECIMAL(13, 2) NOT NULL DEFAULT 0 ,
	PRECIOREGULAR FOR COLUMN PRECI00001 DECIMAL(13, 2) NOT NULL DEFAULT 0 ,
	CODIMPUESTO FOR COLUMN CODIM00001 CHAR(3) CCSID 284 NOT NULL DEFAULT '' ,
	CANTIDADVENTAEMPAQUE FOR COLUMN CANTI00001 INTEGER NOT NULL DEFAULT 0 ,
	DESCTOVENTAEMPAQUE FOR COLUMN DESCT00001 DECIMAL(5, 2) DEFAULT NULL ,
	INDICADESCTOEMPLEADO FOR COLUMN INDIC00001 CHAR(1) CCSID 284 NOT NULL DEFAULT 'N' ,
	INDICADESPACHAR FOR COLUMN INDIC00002 CHAR(1) CCSID 284 DEFAULT 'N' ,
	ESTADOPRODUCTO FOR COLUMN ESTAD00001 CHAR(1) CCSID 284 NOT NULL DEFAULT 'A' ,
	ACTUALIZACION FOR COLUMN ACTUA00001 TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP )
	;

LABEL ON TABLE CR.PRODCR017
	IS 'Maestro de productos Tienda 17. Opcion 915' ;

CREATE TABLE CR.PRODSECCION (
	CODPRODUCTO FOR COLUMN CODPR00001 VARCHAR(12) CCSID 284 NOT NULL ,
	CODDEPARTAMENTO FOR COLUMN CODDE00001 CHAR(2) CCSID 284 NOT NULL ,
	CODLINEA CHAR(2) CCSID 284 NOT NULL ,
	CODSECCION INTEGER NOT NULL ,
	CONSTRAINT CR.Q_CR_PRODS00001_CODPR00001_00001 PRIMARY KEY( CODPRODUCTO ) )
	;

LABEL ON TABLE CR.PRODSECCION
	IS 'Tabla de Secciones de Productos' ;

LABEL ON COLUMN CR.PRODSECCION
( CODPRODUCTO TEXT IS 'Codigo de Producto' ,
	CODDEPARTAMENTO TEXT IS 'Codigo de Departamento' ,
	CODLINEA TEXT IS 'Codigo de Linea' ,
	CODSECCION TEXT IS 'Codigo de Seccion' ) ;

CREATE TABLE CR.PRODUCTO (
	CODPRODUCTO FOR COLUMN CODPR00001 VARCHAR(12) CCSID 284 NOT NULL DEFAULT '' ,
	DESCRIPCIONCORTA FOR COLUMN DESCR00001 VARCHAR(20) CCSID 284 NOT NULL DEFAULT '' ,
	DESCRIPCIONLARGA FOR COLUMN DESCR00002 VARCHAR(100) CCSID 284 DEFAULT NULL ,
	CODUNIDADVENTA FOR COLUMN CODUN00001 INTEGER NOT NULL DEFAULT 0 ,
	REFERENCIAPROVEEDOR FOR COLUMN REFER00001 VARCHAR(13) CCSID 284 DEFAULT NULL ,
	MARCA VARCHAR(30) CCSID 284 DEFAULT NULL ,
	MODELO VARCHAR(30) CCSID 284 DEFAULT NULL ,
	CODDEPARTAMENTO FOR COLUMN CODDE00001 CHAR(2) CCSID 284 NOT NULL DEFAULT '' ,
	CODLINEASECCION FOR COLUMN CODLI00001 CHAR(2) CCSID 284 NOT NULL DEFAULT '' ,
	COSTOLISTA DECIMAL(13, 2) NOT NULL DEFAULT 0 ,
	PRECIOREGULAR FOR COLUMN PRECI00001 DECIMAL(13, 2) NOT NULL DEFAULT 0 ,
	CODIMPUESTO FOR COLUMN CODIM00001 CHAR(3) CCSID 284 NOT NULL DEFAULT '' ,
	CANTIDADVENTAEMPAQUE FOR COLUMN CANTI00001 INTEGER NOT NULL DEFAULT 0 ,
	DESCTOVENTAEMPAQUE FOR COLUMN DESCT00001 DECIMAL(5, 2) DEFAULT NULL ,
	INDICADESCTOEMPLEADO FOR COLUMN INDIC00001 CHAR(1) CCSID 284 NOT NULL DEFAULT 'N' ,
	INDICADESPACHAR FOR COLUMN INDIC00002 CHAR(1) CCSID 284 DEFAULT 'N' ,
	ESTADOPRODUCTO FOR COLUMN ESTAD00001 CHAR(1) CCSID 284 NOT NULL DEFAULT 'A' ,
	ACTUALIZACION FOR COLUMN ACTUA00001 TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ,
	CONSTRAINT CR.Q_CR_PRODUCTO_CODPR00001_00001 PRIMARY KEY( CODPRODUCTO ) )
	;

LABEL ON TABLE CR.PRODUCTO
	IS 'Maestro de productos disponibles para la venta' ;

CREATE TABLE CR.PROMOCION (
	CODPROMOCION FOR COLUMN CODPR00001 INTEGER NOT NULL DEFAULT 0 ,
	TIPOPROMOCION FOR COLUMN TIPOP00001 CHAR(1) CCSID 284 NOT NULL DEFAULT '' ,
	FECHAINICIO FOR COLUMN FECHA00001 DATE NOT NULL ,
	HORAINICIO TIME NOT NULL ,
	FECHAFINALIZA FOR COLUMN FECHA00002 DATE NOT NULL ,
	HORAFINALIZA FOR COLUMN HORAF00001 TIME NOT NULL ,
	PRIORIDAD CHAR(1) CCSID 284 NOT NULL DEFAULT '' ,
	CONSTRAINT CR.Q_CR_PROMOCION_CODPR00001_00001 PRIMARY KEY( CODPROMOCION ) )
	;

LABEL ON TABLE CR.PROMOCION
	IS 'Cabecera de promociones activas' ;

CREATE TABLE CR.PROMOCIONREGISTRADA (
	CODPROMOCION FOR COLUMN CODPR00001 INTEGER NOT NULL DEFAULT 0 ,
	CODIGOPRODUCTO FOR COLUMN CODIG00001 VARCHAR(12) CCSID 284 NOT NULL DEFAULT '' ,
	CODIGO INTEGER NOT NULL DEFAULT 0 ,
	NUMTIENDA SMALLINT NOT NULL DEFAULT 0 ,
	NUMCAJA SMALLINT NOT NULL DEFAULT 0 ,
	FECHA DATE NOT NULL ,
	NUMTRANSACION FOR COLUMN NUMTR00001 INTEGER NOT NULL DEFAULT 0 ,
	REGACTUALIZADO FOR COLUMN REGAC00001 CHAR(1) CCSID 284 DEFAULT 'N' ,
	CANTPRODUCTO FOR COLUMN CANTP00001 INTEGER DEFAULT NULL )
	;

ALTER TABLE CR.PROMOCIONREGISTRADA
	ADD CONSTRAINT CR.Q_CR_PROMO00001_CODPR00001_00001
	UNIQUE( CODPROMOCION , CODIGOPRODUCTO , CODIGO , NUMTIENDA , NUMCAJA , FECHA , NUMTRANSACION ) ;

LABEL ON TABLE CR.PROMOCIONREGISTRADA
	IS 'Promociones registradas por detalle de venta' ;

CREATE TABLE CR.PROMOCR002 (
	CODPROMOCION FOR COLUMN CODPR00001 INTEGER NOT NULL DEFAULT 0 ,
	TIPOPROMOCION FOR COLUMN TIPOP00001 CHAR(1) CCSID 284 NOT NULL DEFAULT '' ,
	FECHAINICIO FOR COLUMN FECHA00001 DATE NOT NULL ,
	HORAINICIO TIME NOT NULL ,
	FECHAFINALIZA FOR COLUMN FECHA00002 DATE NOT NULL ,
	HORAFINALIZA FOR COLUMN HORAF00001 TIME NOT NULL ,
	PRIORIDAD CHAR(1) CCSID 284 NOT NULL DEFAULT '' )
	;

LABEL ON TABLE CR.PROMOCR002
	IS 'Maestro de Promociones de Tienda 2. Opcion 915' ;

CREATE TABLE CR.PROMOCR003 (
	CODPROMOCION FOR COLUMN CODPR00001 INTEGER NOT NULL DEFAULT 0 ,
	TIPOPROMOCION FOR COLUMN TIPOP00001 CHAR(1) CCSID 284 NOT NULL DEFAULT '' ,
	FECHAINICIO FOR COLUMN FECHA00001 DATE NOT NULL ,
	HORAINICIO TIME NOT NULL ,
	FECHAFINALIZA FOR COLUMN FECHA00002 DATE NOT NULL ,
	HORAFINALIZA FOR COLUMN HORAF00001 TIME NOT NULL ,
	PRIORIDAD CHAR(1) CCSID 284 NOT NULL DEFAULT '' )
	;

LABEL ON TABLE CR.PROMOCR003
	IS 'Maestro de Promociones de Tienda 3. Opcion 915' ;

CREATE TABLE CR.PROMOCR007 (
	CODPROMOCION FOR COLUMN CODPR00001 INTEGER NOT NULL DEFAULT 0 ,
	TIPOPROMOCION FOR COLUMN TIPOP00001 CHAR(1) CCSID 284 NOT NULL DEFAULT '' ,
	FECHAINICIO FOR COLUMN FECHA00001 DATE NOT NULL ,
	HORAINICIO TIME NOT NULL ,
	FECHAFINALIZA FOR COLUMN FECHA00002 DATE NOT NULL ,
	HORAFINALIZA FOR COLUMN HORAF00001 TIME NOT NULL ,
	PRIORIDAD CHAR(1) CCSID 284 NOT NULL DEFAULT '' )
	;

LABEL ON TABLE CR.PROMOCR007
	IS 'Maestro de Promociones de Tienda 7. Opcion 915' ;

CREATE TABLE CR.PROMOCR009 (
	CODPROMOCION FOR COLUMN CODPR00001 INTEGER NOT NULL DEFAULT 0 ,
	TIPOPROMOCION FOR COLUMN TIPOP00001 CHAR(1) CCSID 284 NOT NULL DEFAULT '' ,
	FECHAINICIO FOR COLUMN FECHA00001 DATE NOT NULL ,
	HORAINICIO TIME NOT NULL ,
	FECHAFINALIZA FOR COLUMN FECHA00002 DATE NOT NULL ,
	HORAFINALIZA FOR COLUMN HORAF00001 TIME NOT NULL ,
	PRIORIDAD CHAR(1) CCSID 284 NOT NULL DEFAULT '' )
	;

LABEL ON TABLE CR.PROMOCR009
	IS 'Maestro de Promociones de Tienda 9. Opcion 915' ;

CREATE TABLE CR.PROMOCR010 (
	CODPROMOCION FOR COLUMN CODPR00001 INTEGER NOT NULL DEFAULT 0 ,
	TIPOPROMOCION FOR COLUMN TIPOP00001 CHAR(1) CCSID 284 NOT NULL DEFAULT '' ,
	FECHAINICIO FOR COLUMN FECHA00001 DATE NOT NULL ,
	HORAINICIO TIME NOT NULL ,
	FECHAFINALIZA FOR COLUMN FECHA00002 DATE NOT NULL ,
	HORAFINALIZA FOR COLUMN HORAF00001 TIME NOT NULL ,
	PRIORIDAD CHAR(1) CCSID 284 NOT NULL DEFAULT '' )
	;

LABEL ON TABLE CR.PROMOCR010
	IS 'Maestro de Promociones de Tienda 10. Opcion 915' ;

CREATE TABLE CR.PROMOCR015 (
	CODPROMOCION FOR COLUMN CODPR00001 INTEGER NOT NULL DEFAULT 0 ,
	TIPOPROMOCION FOR COLUMN TIPOP00001 CHAR(1) CCSID 284 NOT NULL DEFAULT '' ,
	FECHAINICIO FOR COLUMN FECHA00001 DATE NOT NULL ,
	HORAINICIO TIME NOT NULL ,
	FECHAFINALIZA FOR COLUMN FECHA00002 DATE NOT NULL ,
	HORAFINALIZA FOR COLUMN HORAF00001 TIME NOT NULL ,
	PRIORIDAD CHAR(1) CCSID 284 NOT NULL DEFAULT '' )
	;

LABEL ON TABLE CR.PROMOCR015
	IS 'Maestro de Promociones de Tienda 15. Opcion 915' ;

CREATE TABLE CR.PROMOCR016 (
	CODPROMOCION FOR COLUMN CODPR00001 INTEGER NOT NULL DEFAULT 0 ,
	TIPOPROMOCION FOR COLUMN TIPOP00001 CHAR(1) CCSID 284 NOT NULL DEFAULT '' ,
	FECHAINICIO FOR COLUMN FECHA00001 DATE NOT NULL ,
	HORAINICIO TIME NOT NULL ,
	FECHAFINALIZA FOR COLUMN FECHA00002 DATE NOT NULL ,
	HORAFINALIZA FOR COLUMN HORAF00001 TIME NOT NULL ,
	PRIORIDAD CHAR(1) CCSID 284 NOT NULL DEFAULT '' )
	;

LABEL ON TABLE CR.PROMOCR016
	IS 'Maestro de Promociones de Tienda 16. Opcion 915' ;

CREATE TABLE CR.PROMOCR017 (
	CODPROMOCION FOR COLUMN CODPR00001 INTEGER NOT NULL DEFAULT 0 ,
	TIPOPROMOCION FOR COLUMN TIPOP00001 CHAR(1) CCSID 284 NOT NULL DEFAULT '' ,
	FECHAINICIO FOR COLUMN FECHA00001 DATE NOT NULL ,
	HORAINICIO TIME NOT NULL ,
	FECHAFINALIZA FOR COLUMN FECHA00002 DATE NOT NULL ,
	HORAFINALIZA FOR COLUMN HORAF00001 TIME NOT NULL ,
	PRIORIDAD CHAR(1) CCSID 284 NOT NULL DEFAULT '' )
	;

LABEL ON TABLE CR.PROMOCR017
	IS 'Maestro de Promociones de Tienda 17. Opcion 915' ;

CREATE TABLE CR.RECIBOEMITIDO (
	NUMTIENDA SMALLINT NOT NULL DEFAULT 0 ,
	NUMCAJA SMALLINT NOT NULL DEFAULT 0 ,
	NUMRECIBO INTEGER NOT NULL DEFAULT 0 ,
	FECHAEMISION FOR COLUMN FECHA00001 DATE NOT NULL ,
	CODCAJERO VARCHAR(8) CCSID 284 NOT NULL DEFAULT '' ,
	MONTORECIBO FOR COLUMN MONTO00001 DECIMAL(13, 2) NOT NULL DEFAULT 0 ,
	MOTIVO VARCHAR(50) CCSID 284 NOT NULL DEFAULT '' ,
	NUMTRANSACCIONVENTA FOR COLUMN NUMTR00001 INTEGER DEFAULT NULL ,
	REGACTUALIZADO FOR COLUMN REGAC00001 CHAR(1) CCSID 284 NOT NULL DEFAULT 'N' ,
	CONSTRAINT CR.Q_CR_RECIB00001_NUMTIENDA_00001 PRIMARY KEY( NUMTIENDA , NUMCAJA , NUMRECIBO , FECHAEMISION ) )
	;

LABEL ON TABLE CR.RECIBOEMITIDO
	IS 'Tabla referencial de los recibos emitidos en caja' ;

CREATE TABLE CR.REGALOSREGISTRADOS (
	CANTIDAD DECIMAL(13, 5) NOT NULL DEFAULT 0 ,
	NUMTRANSACCION FOR COLUMN NUMTR00001 INTEGER NOT NULL DEFAULT 0 ,
	NUMCAJA SMALLINT NOT NULL DEFAULT 0 ,
	NUMTIENDA SMALLINT NOT NULL DEFAULT 0 ,
	FECHATRANSACCION FOR COLUMN FECHA00001 DATE NOT NULL ,
	CODPROMOCION FOR COLUMN CODPR00001 INTEGER NOT NULL DEFAULT 0 ,
	NUMDETALLE INTEGER NOT NULL DEFAULT 0 ,
	MONTO DECIMAL(13, 5) NOT NULL DEFAULT 0 ,
	REGACTUALIZADO FOR COLUMN REGAC00001 CHAR(1) CCSID 284 DEFAULT 'N' )
	;

ALTER TABLE CR.REGALOSREGISTRADOS
	ADD CONSTRAINT CR.Q_CR_REGAL00001_NUMTR00001_00001
	UNIQUE( NUMTRANSACCION , NUMCAJA , NUMTIENDA , FECHATRANSACCION , CODPROMOCION , NUMDETALLE ) ;

LABEL ON TABLE CR.REGALOSREGISTRADOS
	IS 'CONTIENE LOS REGALOS ENTREGADOS POR TRANSACCION' ;

CREATE TABLE CR.REGION (
	CODREGION CHAR(3) CCSID 284 NOT NULL DEFAULT '' ,
	DESCRIPCION FOR COLUMN DESCR00001 VARCHAR(30) CCSID 284 NOT NULL DEFAULT '' ,
	CONSTRAINT CR.Q_CR_REGION_CODREGION_00001 PRIMARY KEY( CODREGION ) )
	;

LABEL ON TABLE CR.REGION
	IS 'Maestro de regiones de venta' ;

CREATE TABLE CR.SALDOCLIENTE (
	CODCLIENTE VARCHAR(12) CCSID 284 NOT NULL DEFAULT '' ,
	SALDO DECIMAL(13, 2) NOT NULL DEFAULT 0 ,
	SALDOBLOQUEADO FOR COLUMN SALDO00001 CHAR(1) CCSID 284 NOT NULL DEFAULT 'N' ,
	ACTUALIZACION FOR COLUMN ACTUA00001 TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ,
	CODCAJERO VARCHAR(8) CCSID 284 NOT NULL DEFAULT '' ,
	NUMFICHA VARCHAR(8) CCSID 284 DEFAULT NULL ,
	CONSTRAINT CR.Q_CR_SALDO00001_CODCLIENTE_00001 PRIMARY KEY( CODCLIENTE ) )
	;

LABEL ON TABLE CR.SALDOCLIENTE
	IS 'Entidad referencial del saldo por cond/acree' ;

CREATE TABLE CR.SERVICIO (
	NUMTIENDA SMALLINT NOT NULL DEFAULT 0 ,
	CODTIPOSERVICIO FOR COLUMN CODTI00001 CHAR(2) CCSID 284 NOT NULL DEFAULT '' ,
	NUMSERVICIO FOR COLUMN NUMSE00001 INTEGER NOT NULL DEFAULT 0 ,
	FECHA DATE NOT NULL ,
	CODCLIENTE VARCHAR(12) CCSID 284 DEFAULT NULL ,
	MONTOBASE DECIMAL(13, 2) NOT NULL DEFAULT 0 ,
	MONTOIMPUESTO FOR COLUMN MONTO00001 DECIMAL(13, 2) NOT NULL DEFAULT 0 ,
	LINEASFACTURACION FOR COLUMN LINEA00001 SMALLINT NOT NULL DEFAULT 0 ,
	CONDICIONABONO FOR COLUMN CONDI00001 CHAR(1) CCSID 284 DEFAULT NULL ,
	CODCAJERO VARCHAR(8) CCSID 284 DEFAULT '' ,
	NUMTRANSACCIONVENTA FOR COLUMN NUMTR00001 INTEGER DEFAULT NULL ,
	FECHATRANSACCIONVNTA FOR COLUMN FECHA00001 DATE DEFAULT NULL ,
	NUMCAJAVENTA FOR COLUMN NUMCA00001 SMALLINT DEFAULT NULL ,
	DIRECCIONDESPACHO FOR COLUMN DIREC00001 VARCHAR(100) CCSID 284 DEFAULT NULL ,
	CAMBIADIRECCION FOR COLUMN CAMBI00001 CHAR(1) CCSID 284 DEFAULT 'N' ,
	HORAINICIA TIME NOT NULL ,
	HORAFINALIZA FOR COLUMN HORAF00001 TIME DEFAULT NULL ,
	ESTADOSERVICIO FOR COLUMN ESTAD00001 CHAR(1) CCSID 284 NOT NULL DEFAULT 'V' ,
	NUMCAJAANULA FOR COLUMN NUMCA00002 SMALLINT DEFAULT NULL ,
	CODUSUARIOANULA FOR COLUMN CODUS00001 VARCHAR(8) CCSID 284 DEFAULT NULL ,
	REGACTUALIZADO FOR COLUMN REGAC00001 CHAR(1) CCSID 284 NOT NULL DEFAULT 'N' ,
        TIPOAPARTADO FOR COLUMN TIPOA00001 SMALLINT DEFAULT 0 ,
        FECHAVENCE DATE DEFAULT NULL ,
	CONSTRAINT CR.Q_CR_SERVICIO_NUMTIENDA_00001 PRIMARY KEY( NUMTIENDA , CODTIPOSERVICIO , NUMSERVICIO , FECHA ) )
	;

LABEL ON TABLE CR.SERVICIO
	IS 'Maestro de Servicios disponibles' ;

CREATE TABLE CR.SERVIDORTIENDA (
	NUMTIENDA SMALLINT NOT NULL ,
	DBCLASE VARCHAR(50) CCSID 284 DEFAULT NULL ,
	DBURLSERVIDOR FOR COLUMN DBURL00001 VARCHAR(50) CCSID 284 NOT NULL ,
	DBUSUARIO VARCHAR(30) CCSID 284 DEFAULT NULL ,
	DBCLAVE VARCHAR(30) CCSID 284 DEFAULT NULL ,
	ACTUALIZACION FOR COLUMN ACTUA00001 TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ,
	CONSTRAINT CR.Q_CR_IPTIENDAS_NUMTIENDA_00001 PRIMARY KEY( NUMTIENDA ) )
	;

LABEL ON TABLE CR.SERVIDORTIENDA
	IS 'Direccion de servidores de tiendas' ;

CREATE TABLE CR.SOLICITUDCLIENTE (
	NUMTIENDA SMALLINT NOT NULL DEFAULT 0 ,
	FECHAINICIO FOR COLUMN FECHA00001 DATE NOT NULL DEFAULT '1900-01-01' ,
	FECHAFIN DATE NOT NULL DEFAULT '1900-01-01' ,
	ACTUALIZACION FOR COLUMN ACTUA00001 TIMESTAMP NOT NULL )
	;

ALTER TABLE CR.SOLICITUDCLIENTE
	ADD CONSTRAINT CR.Q_CR_SOLIC00001_FECHAFIN_00001
	UNIQUE( NUMTIENDA , ACTUALIZACION ) ;

LABEL ON TABLE CR.SOLICITUDCLIENTE
	IS 'control de solicitud de cliente' ;

CREATE TABLE CR.TEMPORAL (
	CODPROMOCION FOR COLUMN CODPR00001 INTEGER NOT NULL DEFAULT 0 ,
	NUMDETALLE INTEGER NOT NULL DEFAULT 0 ,
	PORCENTAJEDESCUENTO FOR COLUMN PORCE00001 DECIMAL(5, 2) DEFAULT 0 ,
	CATEGORIA CHAR(2) CCSID 284 DEFAULT '' ,
	DEPARTAMENTO FOR COLUMN DEPAR00001 CHAR(2) CCSID 284 DEFAULT '' ,
	MARCA VARCHAR(30) CCSID 284 DEFAULT '' ,
	LINEA CHAR(2) CCSID 284 DEFAULT '' ,
	REFPROVEEDOR FOR COLUMN REFPR00001 VARCHAR(13) CCSID 284 DEFAULT '' ,
	MONTOMINIMO FOR COLUMN MONTO00001 DECIMAL(13, 5) DEFAULT 0 ,
	CANTMINIMA INTEGER DEFAULT 0 ,
	CANTREGALADA FOR COLUMN CANTR00001 INTEGER DEFAULT 0 ,
	CODPRODUCTO FOR COLUMN CODPR00002 VARCHAR(12) CCSID 284 DEFAULT '' ,
	BSDESCUENTO FOR COLUMN BSDES00001 DECIMAL(13, 5) DEFAULT 0.00000 ,
	ESTADOREGISTRO FOR COLUMN ESTAD00001 CHAR(1) CCSID 284 DEFAULT NULL ,
	NOMBREPROMOCION FOR COLUMN NOMBR00001 VARCHAR(60) CCSID 284 DEFAULT NULL ,
	PRODSINCONSECUTIVO FOR COLUMN PRODS00001 VARCHAR(12) CCSID 284 DEFAULT NULL ,
	CODSECCION INTEGER DEFAULT NULL ,
	CONSTRAINT CR.Q_CR_TEMP PRIMARY KEY( CODPROMOCION , NUMDETALLE ) )
	;

CREATE TABLE CR.TIENDA (
	NUMTIENDA SMALLINT NOT NULL DEFAULT 0 ,
	NOMBRESUCURSAL FOR COLUMN NOMBR00001 VARCHAR(30) CCSID 284 NOT NULL DEFAULT '' ,
	RAZONSOCIAL FOR COLUMN RAZON00001 VARCHAR(30) CCSID 284 NOT NULL DEFAULT '' ,
	RIF VARCHAR(12) CCSID 284 NOT NULL DEFAULT '' ,
	NIT VARCHAR(12) CCSID 284 NOT NULL DEFAULT '' ,
	DIRECCION VARCHAR(100) CCSID 284 NOT NULL DEFAULT '' ,
	CODAREA VARCHAR(4) CCSID 284 DEFAULT NULL ,
	NUMTELEFONO FOR COLUMN NUMTE00001 VARCHAR(9) CCSID 284 DEFAULT NULL ,
	CODAREAFAX VARCHAR(4) CCSID 284 DEFAULT NULL ,
	NUMFAX VARCHAR(9) CCSID 284 DEFAULT NULL ,
	DIRECCIONFISCAL FOR COLUMN DIREC00001 VARCHAR(100) CCSID 284 NOT NULL DEFAULT '' ,
	CODAREAFISCAL FOR COLUMN CODAR00001 VARCHAR(4) CCSID 284 DEFAULT NULL ,
	NUMTELEFONOFISCAL FOR COLUMN NUMTE00002 VARCHAR(9) CCSID 284 DEFAULT NULL ,
	CODAREAFAXFISCAL FOR COLUMN CODAR00002 VARCHAR(4) CCSID 284 DEFAULT NULL ,
	NUMFAXFISCAL FOR COLUMN NUMFA00001 VARCHAR(9) CCSID 284 DEFAULT NULL ,
	MONEDABASE CHAR(3) CCSID 284 DEFAULT NULL ,
	CODREGION CHAR(3) CCSID 284 NOT NULL DEFAULT '000' ,
	LIMITEENTREGACAJA FOR COLUMN LIMIT00001 DECIMAL(13, 2) NOT NULL DEFAULT 0 ,
	TIPOIMPUESTOAPLICAR FOR COLUMN TIPOI00001 CHAR(1) CCSID 284 NOT NULL DEFAULT '' ,
	INDICADESCTOEMPLEADO FOR COLUMN INDIC00001 CHAR(1) CCSID 284 NOT NULL DEFAULT '' ,
	DESCTOVENTAEMPLEADO FOR COLUMN DESCT00001 DECIMAL(5, 2) NOT NULL DEFAULT 0 ,
	CAMBIOPRECIOENCAJA FOR COLUMN CAMBI00001 CHAR(1) CCSID 284 NOT NULL DEFAULT '' ,
	FECHATIENDA FOR COLUMN FECHA00001 DATE NOT NULL ,
	UTILIZARVENDEDOR FOR COLUMN UTILI00001 CHAR(1) CCSID 284 NOT NULL DEFAULT 'N' ,
	DESCTOSACUMULATIVOS FOR COLUMN DESCT00002 CHAR(1) CCSID 284 NOT NULL DEFAULT 'N' ,
	DBCLASE VARCHAR(100) CCSID 284 DEFAULT NULL ,
	DBURLSERVIDOR FOR COLUMN DBURL00001 VARCHAR(100) CCSID 284 DEFAULT NULL ,
	DBUSUARIO VARCHAR(30) CCSID 284 DEFAULT NULL ,
	DBCLAVE VARCHAR(30) CCSID 284 DEFAULT NULL ,
	CONSTRAINT CR.Q_CR_TIENDA_NUMTIENDA_00001 PRIMARY KEY( NUMTIENDA ) )
	;

LABEL ON TABLE CR.TIENDA
	IS 'Maestro de tienda' ;

CREATE TABLE CR.TIENDAPUBLICIDAD (
	NUMTIENDA SMALLINT NOT NULL DEFAULT 0 ,
	PUBLICIDADLINEA FOR COLUMN PUBLI00001 VARCHAR(40) ALLOCATE(1) CCSID 284 NOT NULL DEFAULT '0' ,
	ORDEN SMALLINT NOT NULL DEFAULT 0 ,
	CONSTRAINT CR.Q_CR_TIEND00001_NUMTIENDA_00001 PRIMARY KEY( NUMTIENDA , ORDEN ) )
	;

LABEL ON TABLE CR.TIENDAPUBLICIDAD
	IS 'Tabla con lineas publicitarias para la factura' ;

CREATE TABLE CR.TIPOAPARTADO (
	CODIGO SMALLINT NOT NULL ,
	DESCRIPCION FOR COLUMN DESCR00001 VARCHAR(50) CCSID 284 NOT NULL ,
	FECHADESDE DATE DEFAULT NULL ,
	FECHAHASTA DATE DEFAULT NULL ,
	FECHAVENCE DATE DEFAULT NULL ,
	CONSTRAINT CR.Q_CR_TIPOA00001_CODIGO_00001 PRIMARY KEY( CODIGO ) )
        ;

LABEL ON TABLE CR.TIPOAPARTADO
	IS 'Tabla de Tipo de Apartados Especiales' ;

CREATE TABLE CR.TIPOCAPTURA (
	CODTIPOCAPTURA FOR COLUMN CODTI00001 CHAR(2) CCSID 284 NOT NULL DEFAULT '' ,
	DESCRIPCION FOR COLUMN DESCR00001 VARCHAR(50) CCSID 284 DEFAULT NULL ,
	CONSTRAINT CR.Q_CR_TIPOC00001_CODTI00001_00001 PRIMARY KEY( CODTIPOCAPTURA ) )
	;

LABEL ON TABLE CR.TIPOCAPTURA
	IS 'Tabla referencial para los tipos de captura de cod' ;

CREATE TABLE CR.TIPOEVENTOLISTAREGALOS (
	CODTIPOEVENTO FOR COLUMN CODTI00001 CHAR(2) CCSID 284 NOT NULL ,
	DESCRIPCION FOR COLUMN DESCR00001 VARCHAR(30) CCSID 284 NOT NULL ,
	ACTUALIZACION FOR COLUMN ACTUA00001 TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ,
	CONSTRAINT CR.Q_CR_TIPOE00001_CODTI00001_00001 PRIMARY KEY( CODTIPOEVENTO ) )
	;

LABEL ON TABLE CR.TIPOEVENTOLISTAREGALOS
	IS 'Maestro de tipos de eventos para Listas de Regalos' ;

CREATE TABLE CR.TIPOSERVICIO (
	CODTIPOSERVICIO FOR COLUMN CODTI00001 CHAR(2) CCSID 284 NOT NULL DEFAULT '' ,
	DESCRIPCION FOR COLUMN DESCR00001 VARCHAR(30) CCSID 284 DEFAULT NULL ,
	CORRELATIVO FOR COLUMN CORRE00001 INTEGER NOT NULL DEFAULT 0 ,
	CONSTRAINT CR.Q_CR_TIPOS00001_CODTI00001_00001 PRIMARY KEY( CODTIPOSERVICIO ) )
	;

LABEL ON TABLE CR.TIPOSERVICIO
	IS 'Tabla referencial de los tipos de servicio' ;

CREATE TABLE CR.TRAINMED (
--  SQL150B   10   REUSEDLT(*NO) en tabla TRAINMED de CR ignorado.
	LINEA CHAR(900) CCSID 284 NOT NULL DEFAULT '' )
	
	RCDFMT RTRAINMED  ;

LABEL ON TABLE CR.TRAINMED
	IS 'Archivo de Transferencia de CR a Tiendas - 915' ;

CREATE TABLE CR.TRANSACCION (
	NUMTIENDA SMALLINT NOT NULL DEFAULT 0 ,
	FECHA DATE NOT NULL ,
	NUMCAJAINICIA FOR COLUMN NUMCA00001 SMALLINT NOT NULL DEFAULT 0 ,
	NUMREGCAJAINICIA FOR COLUMN NUMRE00001 INTEGER NOT NULL DEFAULT 0 ,
	NUMCAJAFINALIZA FOR COLUMN NUMCA00002 SMALLINT DEFAULT NULL ,
	NUMTRANSACCION FOR COLUMN NUMTR00001 INTEGER DEFAULT NULL ,
	TIPOTRANSACCION FOR COLUMN TIPOT00001 CHAR(1) CCSID 284 NOT NULL DEFAULT '' ,
	NUMCOMPROBANTEFISCAL FOR COLUMN NUMCO00001 INTEGER DEFAULT NULL ,
	HORAINICIA TIME NOT NULL ,
	HORAFINALIZA FOR COLUMN HORAF00001 TIME NOT NULL ,
	CODCLIENTE VARCHAR(12) CCSID 284 DEFAULT NULL ,
	CODCAJERO VARCHAR(8) CCSID 284 NOT NULL DEFAULT '' ,
	CODIGOFACTURAESPERA FOR COLUMN CODIG00001 VARCHAR(8) CCSID 284 DEFAULT NULL ,
	MONTOBASE DECIMAL(13, 2) NOT NULL DEFAULT 0 ,
	MONTOIMPUESTO FOR COLUMN MONTO00001 DECIMAL(13, 2) NOT NULL DEFAULT 0 ,
	VUELTOCLIENTE FOR COLUMN VUELT00001 DECIMAL(13, 2) NOT NULL DEFAULT 0 ,
	MONTOREMANENTE FOR COLUMN MONTO00002 DECIMAL(13, 2) NOT NULL DEFAULT 0 ,
	LINEASFACTURACION FOR COLUMN LINEA00001 SMALLINT NOT NULL DEFAULT 0 ,
	CAJAENLINEA FOR COLUMN CAJAE00001 CHAR(1) CCSID 284 NOT NULL DEFAULT 'S' ,
	SERIALCAJA VARCHAR(20) ALLOCATE(3) CCSID 284 NOT NULL DEFAULT 'S/N' ,
	DURACIONVENTA FOR COLUMN DURAC00001 SMALLINT NOT NULL DEFAULT 0 ,
	DURACIONPAGO FOR COLUMN DURAC00002 SMALLINT NOT NULL DEFAULT 0 ,
	CHECKSUM INTEGER DEFAULT NULL ,
	ESTADOTRANSACCION FOR COLUMN ESTAD00001 CHAR(1) CCSID 284 NOT NULL DEFAULT '' ,
	REGACTUALIZADO FOR COLUMN REGAC00001 CHAR(1) CCSID 284 NOT NULL DEFAULT 'N' ,
	CODAUTORIZANTE FOR COLUMN CODAU00001 VARCHAR(8) CCSID 284 DEFAULT NULL ,
	NUMIMPNOTADESPACHO FOR COLUMN NUMIM00001 INTEGER NOT NULL DEFAULT 0 ,
	NUMIMPNOTAENTREGA FOR COLUMN NUMIM00002 INTEGER NOT NULL DEFAULT 0 ,
	CONSTRAINT CR.Q_CR_TRANS00001_NUMTIENDA_00001 PRIMARY KEY( NUMTIENDA , FECHA , NUMCAJAINICIA , NUMREGCAJAINICIA ) )
	;

LABEL ON TABLE CR.TRANSACCION
	IS 'Cabecera de transacciones efectuadas' ;

CREATE TABLE CR.TRANSACCIONABONO (
	NUMTIENDA SMALLINT NOT NULL DEFAULT 0 ,
	NUMCAJA SMALLINT NOT NULL DEFAULT 0 ,
	FECHA DATE NOT NULL ,
	NUMABONO INTEGER NOT NULL DEFAULT 0 ,
	NUMSERVICIO FOR COLUMN NUMSE00001 INTEGER NOT NULL DEFAULT 0 ,
	TIPOTRANSACCIONABONO FOR COLUMN TIPOT00001 CHAR(1) CCSID 284 NOT NULL DEFAULT '' ,
	CODTIPOSERVICIO FOR COLUMN CODTI00001 CHAR(2) CCSID 284 NOT NULL DEFAULT '' ,
	FECHASERVICIO FOR COLUMN FECHA00001 DATE NOT NULL ,
	CODCAJERO VARCHAR(8) CCSID 284 NOT NULL DEFAULT '' ,
	HORAINICIA TIME NOT NULL ,
	HORAFINALIZA FOR COLUMN HORAF00001 TIME DEFAULT NULL ,
	MONTO DECIMAL(13, 2) NOT NULL DEFAULT 0 ,
	VUELTOCLIENTE FOR COLUMN VUELT00001 DECIMAL(13, 2) NOT NULL DEFAULT 0 ,
	MONTOREMANENTE FOR COLUMN MONTO00001 DECIMAL(13, 2) NOT NULL DEFAULT 0 ,
	CAJAENLINEA FOR COLUMN CAJAE00001 CHAR(1) CCSID 284 NOT NULL DEFAULT 'N' ,
	SERIALCAJA VARCHAR(20) ALLOCATE(3) CCSID 284 DEFAULT 'S/N' ,
	ESTADOABONO FOR COLUMN ESTAD00001 CHAR(1) CCSID 284 NOT NULL DEFAULT '' ,
	REGACTUALIZADO FOR COLUMN REGAC00001 CHAR(1) CCSID 284 NOT NULL DEFAULT 'N' ,
	CONSTRAINT CR.Q_CR_TRANS00002_NUMTIENDA_00001 PRIMARY KEY( NUMTIENDA , NUMCAJA , FECHA , NUMABONO , NUMSERVICIO ) )
	;

LABEL ON TABLE CR.TRANSACCIONABONO
	IS 'Cabecera de transacciones de abono efectuadas' ;

CREATE TABLE CR.TRANSACCIONAFILIADOCRM ( 
	NUMTIENDA SMALLINT NOT NULL DEFAULT 0 , 
	FECHATRANSACCION FOR COLUMN FECHA00001 DATE NOT NULL , 
	NUMCAJAFINALIZA FOR COLUMN NUMCA00001 SMALLINT NOT NULL DEFAULT 0 , 
	NUMTRANSACCION FOR COLUMN NUMTR00001 INTEGER NOT NULL DEFAULT 0 , 
	CODAFILIADO FOR COLUMN CODAF00001 VARCHAR(12) CCSID 284 NOT NULL DEFAULT '' , 
	CONTRIBUYENTE FOR COLUMN CONTR00001 CHAR(1) CCSID 284 NOT NULL DEFAULT 'N' , 
	REGACTUALIZADO FOR COLUMN REGAC00001 CHAR(1) CCSID 284 NOT NULL DEFAULT 'N' , 
	HORAINICIACRM FOR COLUMN HORAI00001 TIME NOT NULL DEFAULT CURRENT_TIME , 
	HORAFINALIZACRM FOR COLUMN HORAF00001 TIME NOT NULL DEFAULT CURRENT_TIME )   
	; 
  
ALTER TABLE CR.TRANSACCIONAFILIADOCRM 
	ADD CONSTRAINT CR.Q_CR_TRANS00004_NUMTIENDA_00002 
	UNIQUE( NUMTIENDA , FECHATRANSACCION , NUMCAJAFINALIZA , NUMTRANSACCION , CODAFILIADO ) ; 
  
LABEL ON TABLE CR.TRANSACCIONAFILIADOCRM 
	IS 'Consultas de Clientes- Transacciones' ; 

CREATE TABLE CR.TRANSACCIONPREMIADA (
	HORAGANADOR FOR COLUMN HORAG00001 TIMESTAMP NOT NULL ,
	PREMIOPORENTREGAR FOR COLUMN PREMI00001 INTEGER NOT NULL DEFAULT 0 ,
	NUMTIENDA SMALLINT NOT NULL ,
	FECHA DATE DEFAULT NULL ,
	NUMCAJA SMALLINT DEFAULT NULL ,
	NUMTRANSACCION FOR COLUMN NUMTR00001 INTEGER DEFAULT NULL ,
	CODPROMOCION FOR COLUMN CODPR00001 INTEGER NOT NULL DEFAULT 0 ,
	NUMDETALLE INTEGER NOT NULL DEFAULT 0 ,
	REGACTUALIZADO FOR COLUMN REGAC00001 CHAR(1) CCSID 284 DEFAULT 'N' ,
	FECHAHOY CHAR(40) CCSID 284 DEFAULT '' )
	;

ALTER TABLE CR.TRANSACCIONPREMIADA
	ADD CONSTRAINT CR.Q_CR_TRANS00005_HORAG00001_00001
	UNIQUE( HORAGANADOR , NUMTIENDA ) ;

LABEL ON TABLE CR.TRANSACCIONPREMIADA
	IS 'Registra transacciones premiadas entregadas X caja' ;

CREATE TABLE CR.TRANSACCIONRECUPERADA (
	NUMTIENDA SMALLINT NOT NULL DEFAULT 0 ,
	FECHA DATE NOT NULL ,
	NUMCAJA SMALLINT NOT NULL DEFAULT 0 ,
	NUMTRANSACCION FOR COLUMN NUMTR00001 INTEGER NOT NULL DEFAULT 0 ,
	CONSTRAINT CR.Q_CR_TRANS00003_NUMTIENDA_00001 PRIMARY KEY( NUMTIENDA , FECHA , NUMCAJA , NUMTRANSACCION ) )
	;

LABEL ON TABLE CR.TRANSACCIONRECUPERADA
	IS 'Transacciones Recuperadas para Devolucion' ;

CREATE TABLE CR.TRANSAFIL (
--  SQL150B   10   REUSEDLT(*NO) en tabla TRANSAFIL de CR ignorado.
	LINEA CHAR(1500) CCSID 284 NOT NULL DEFAULT '' )
	
	RCDFMT RTRANSAFIL ;

LABEL ON TABLE CR.TRANSAFIL
	IS 'Archivo de Transferencia de CR a Tiendas por FTP' ;

CREATE TABLE CR.TRANSFER (
--  SQL150B   10   REUSEDLT(*NO) en tabla TRANSFER de CR ignorado.
	LINEA CHAR(900) CCSID 284 NOT NULL DEFAULT '' )
	
	RCDFMT RTRANSFER  ;

LABEL ON TABLE CR.TRANSFER
	IS 'Archivo de Transferencia de CR a Tiendas por FTP' ;

CREATE TABLE CR.UNIDADDEVENTA (
	CODUNIDADVENTA FOR COLUMN CODUN00001 INTEGER NOT NULL DEFAULT 0 ,
	DESCRIPCION FOR COLUMN DESCR00001 VARCHAR(20) CCSID 284 NOT NULL DEFAULT '' ,
	ABREVIADO CHAR(3) CCSID 284 NOT NULL DEFAULT '' ,
	INDICAFRACCION FOR COLUMN INDIC00001 CHAR(1) CCSID 284 NOT NULL DEFAULT 'N' ,
	CONSTRAINT CR.Q_CR_UNIDA00001_CODUN00001_00001 PRIMARY KEY( CODUNIDADVENTA ) )
	;

LABEL ON TABLE CR.UNIDADDEVENTA
	IS 'Maestro de unidades de venta disponibles' ;

CREATE TABLE CR.USUARIO (
	NUMTIENDA SMALLINT NOT NULL DEFAULT 0 ,
	NUMFICHA VARCHAR(8) CCSID 284 NOT NULL DEFAULT '' ,
	CODIGOBARRA FOR COLUMN CODIG00001 VARCHAR(32) CCSID 284 NOT NULL DEFAULT '' ,
	CODPERFIL CHAR(31) CCSID 284 NOT NULL DEFAULT '' ,
	CLAVE VARCHAR(32) CCSID 284 NOT NULL DEFAULT '' ,
	NIVELAUDITORIA FOR COLUMN NIVEL00001 CHAR(1) CCSID 284 NOT NULL DEFAULT '' ,
	NOMBRE VARCHAR(50) CCSID 284 DEFAULT NULL ,
	PUEDECAMBIARCLAVE FOR COLUMN PUEDE00001 CHAR(1) CCSID 284 NOT NULL DEFAULT '' ,
	INDICACAMBIARCLAVE FOR COLUMN INDIC00001 CHAR(1) CCSID 284 NOT NULL DEFAULT '' ,
	FECHACREACION FOR COLUMN FECHA00001 DATE NOT NULL ,
	ULTIMOCAMBIOCLAVE FOR COLUMN ULTIM00001 TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ,
	TIEMPOVIGENCIACLAVE FOR COLUMN TIEMP00001 SMALLINT NOT NULL DEFAULT 90 ,
	REGVIGENTE CHAR(1) CCSID 284 NOT NULL DEFAULT 'S' ,
	ACTUALIZACION FOR COLUMN ACTUA00001 TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ,
	CONSTRAINT CR.Q_CR_USUARIO_NUMTIENDA_00001 PRIMARY KEY( NUMTIENDA , NUMFICHA ) )
	;

LABEL ON TABLE CR.USUARIO
	IS 'Maestro de usuarios del sistema de CR' ;

CREATE INDEX CR.IDX_ABONOANULADO
	ON CR.ANULACIONDEABONOS ( NUMABONOANULADO ASC , FECHAABONOANULADO ASC , NUMSERVICIO ASC ) ;

CREATE INDEX CR.IDX_ACTUALIZACION
	ON CR.AFILIADO ( ACTUALIZACION ASC ) ;

CREATE INDEX CR.IDX_ACTUALIZACIONCAMBIODELDIA
	ON CR.CAMBIODELDIA ( ACTUALIZACION ASC ) ;

CREATE INDEX CR.IDX_ACTUALIZACIONFUNCION
	ON CR.FUNCION ( ACTUALIZACION ASC ) ;

CREATE INDEX CR.IDX_ACTUALIZACIONFUNCIONPERFIL
	ON CR.FUNCIONPERFIL ( ACTUALIZACION ASC ) ;

CREATE INDEX CR.IDX_ACTUALIZACIONPERFIL
	ON CR.PERFIL ( ACTUALIZACION ASC ) ;

CREATE INDEX CR.IDX_ACTUALIZACIONPLANIFICADOR
	ON CR.PLANIFICADOR ( ACTUALIZACION ASC ) ;

CREATE INDEX CR.IDX_ACTUALIZACIONPRODUCTO
	ON CR.PRODUCTO ( ACTUALIZACION ASC ) ;

CREATE INDEX CR.IDX_ACTUALIZACIONSALDOCLIENTE
	ON CR.SALDOCLIENTE ( ACTUALIZACION ASC ) ;

CREATE INDEX CR.IDX_ACTUALIZACIONUSUARIO
	ON CR.USUARIO ( ACTUALIZACION ASC ) ;

CREATE INDEX CR.IDX_ACTUALIZADOAUDITORIA
	ON CR.AUDITORIA ( REGACTUALIZADO ASC ) ;

CREATE INDEX CR.IDX_ACTUALIZADODETALLETRANS
	ON CR.DETALLETRANSACCION ( REGACTUALIZADO ASC ) ;

CREATE INDEX CR.IDX_ACTUALIZADODEVVENTA
	ON CR.DEVOLUCIONVENTA ( REGACTUALIZADO ASC ) ;

CREATE INDEX CR.IDX_ACTUALIZADOSABONO
	ON CR.TRANSACCIONABONO ( REGACTUALIZADO ASC ) ;

CREATE INDEX CR.IDX_ACTUALIZADOSPAGODETRANSACCION
	ON CR.PAGODETRANSACCION ( REGACTUALIZADO ASC ) ;

CREATE INDEX CR.IDX_ACTUALIZADOSPAGOSDEABONOS
	ON CR.PAGODEABONOS ( REGACTUALIZADO ASC ) ;

CREATE INDEX CR.IDX_ACTUALIZADOSRECIBOEMITIDO
	ON CR.RECIBOEMITIDO ( REGACTUALIZADO ASC ) ;

CREATE INDEX CR.IDX_ACTUALIZADOSTRANSACCION
	ON CR.TRANSACCION ( REGACTUALIZADO ASC ) ;

CREATE INDEX CR.IDX_AFILIADO
	ON CR.AFILIADO ( NUMTIENDA ASC , CODAFILIADO ASC , TIPOAFILIADO ASC ) ;

CREATE INDEX CR.IDX_AFILIADODETALLEAFILIADO
	ON CR.DETALLEAFILIADO ( CODAFILIADO ASC , NOTIFICADO ASC ) ;

CREATE INDEX CR.IDX_AUTORIZANTEPAGODETRANSACCION
	ON CR.PAGODETRANSACCION ( NUMTIENDA ASC , CODAUTORIZANTE ASC ) ;

CREATE INDEX CR.IDX_AUTORIZANTETRANSACCION
	ON CR.TRANSACCION ( NUMTIENDA ASC , CODAUTORIZANTE ASC ) ;

CREATE INDEX CR.IDX_BANCOFORMADEPAGO
	ON CR.FORMADEPAGO ( CODBANCO ASC ) ;

CREATE INDEX CR.IDX_BANCOPAGODEABONOS
	ON CR.PAGODEABONOS ( CODBANCO ASC ) ;

CREATE INDEX CR.IDX_BANCOPAGODETRANSACCION
	ON CR.PAGODETRANSACCION ( CODBANCO ASC , FECHA ASC ) ;

CREATE INDEX CR.IDX_CAJA
	ON CR.AUDITORIA ( NUMTIENDA ASC , NUMCAJA ASC ) ;

CREATE INDEX CR.IDX_CAJAABONO
	ON CR.TRANSACCIONABONO ( NUMTIENDA ASC , NUMCAJA ASC ) ;

CREATE INDEX CR.IDX_CAJAFINALIZATRANSACCION
	ON CR.TRANSACCION ( NUMTIENDA ASC , NUMCAJAFINALIZA ASC ) ;

CREATE INDEX CR.IDX_CAJAINICIATRANSACCION
	ON CR.TRANSACCION ( NUMTIENDA ASC , NUMCAJAINICIA ASC ) ;

CREATE INDEX CR.IDX_CAJEROABONO
	ON CR.TRANSACCIONABONO ( NUMTIENDA ASC , CODCAJERO ASC ) ;

CREATE INDEX CR.IDX_CAJERORECIBOEMITIDO
	ON CR.RECIBOEMITIDO ( NUMTIENDA ASC , CODCAJERO ASC ) ;

CREATE INDEX CR.IDX_CAJEROSALDOCLIENTE
	ON CR.SALDOCLIENTE ( CODCAJERO ASC ) ;

CREATE INDEX CR.IDX_CAJEROSERVICIO
	ON CR.SERVICIO ( NUMTIENDA ASC , CODCAJERO ASC ) ;

CREATE INDEX CR.IDX_CAJEROTRANSACCION
	ON CR.TRANSACCION ( NUMTIENDA ASC , CODCAJERO ASC ) ;

CREATE INDEX CR.IDX_CAMBIODELDIA
	ON CR.CAMBIODELDIA ( TIPOFORMADEPAGO ASC , CAMBIODELDIA ASC , ACTUALIZACION ASC ) ;

CREATE INDEX CR.IDX_CARGO
	ON CR.AFILIADO ( CODCARGO ASC ) ;

CREATE INDEX CR.IDX_CLIENTESERVICIO
	ON CR.SERVICIO ( CODCLIENTE ASC ) ;

CREATE INDEX CR.IDX_CLIENTETRANSACCION
	ON CR.TRANSACCION ( CODCLIENTE ASC ) ;

CREATE UNIQUE INDEX CR.IDX_CODIGOBARRA
	ON CR.USUARIO ( CODIGOBARRA ASC ) ;

CREATE INDEX CR.IDX_CODIGOEXTERNOBANCO
	ON CR.BANCO ( CODEXTERNO ASC ) ;

CREATE INDEX CR.IDX_CODTIPOSERVICIO
	ON CR.SERVICIO ( CODTIPOSERVICIO ASC ) ;

CREATE INDEX CR.IDX_COLABORADOR
	ON CR.AFILIADO ( NUMTIENDA ASC , NUMFICHA ASC , TIPOAFILIADO ASC ) ;

CREATE INDEX CR.IDX_CONDICIONVENTA
	ON CR.DETALLESERVICIO ( CODCONDICIONVENTA ASC ) ;

CREATE INDEX CR.IDX_CONDVENTADETALLETRANS
	ON CR.DETALLETRANSACCION ( CODCONDICIONVENTA ASC ) ;

CREATE INDEX CR.IDX_CUPON
	ON CR.DETALLEPROMOCION ( NUMCUPON ASC ) ;

CREATE INDEX CR.IDX_DEPARTAMENTO
	ON CR.AFILIADO ( CODDEPARTAMENTO ASC ) ;

CREATE INDEX CR.IDX_DEPARTAMENTOLINEASECCION
	ON CR.LINEASECCION ( CODDEPARTAMENTO ASC ) ;

CREATE INDEX CR.IDX_DEPARTAMENTOPRODUCTO
	ON CR.PRODUCTO ( CODDEPARTAMENTO ASC ) ;

CREATE INDEX CR.IDX_DESCCORTAPRODUCTO
	ON CR.PRODUCTO ( DESCRIPCIONCORTA ASC ) ;

CREATE INDEX CR.IDX_DESCLARGAPRODUCTO
	ON CR.PRODUCTO ( DESCRIPCIONLARGA ASC ) ;

CREATE INDEX CR.IDX_DESPACHADOS
	ON CR.DETALLETRANSACCION ( DESPACHARPRODUCTO ASC ) ;

CREATE INDEX CR.IDX_DETALLEPRODUCTO
	ON CR.DETALLETRANSACCION ( CODPRODUCTO ASC , CODCONDICIONVENTA ASC , CORRELATIVOITEM ASC , PRECIOFINAL ASC ) ;

CREATE INDEX CR.IDX_DETCOMPROMOCION
	ON CR.DETCOMPROMOCION ( CODTIENDA ASC , CODPROMOCION ASC , CODPRODUCTO ASC ) ;

CREATE INDEX CR.IDX_DPTODETALLEPROMOCION
	ON CR.DETALLEPROMOCION ( CODDEPARTAMENTO ASC ) ;

CREATE INDEX CR.IDX_EDOFINAL
	ON CR.MAQUINADEESTADO ( EDOFINAL ASC ) ;

CREATE INDEX CR.IDX_ESTADOABONO
	ON CR.TRANSACCIONABONO ( ESTADOABONO ASC ) ;

CREATE INDEX CR.IDX_ESTADOCAJA
	ON CR.CAJA ( IDESTADOCAJA ASC ) ;

CREATE INDEX CR.IDX_ESTADOSERVICIO
	ON CR.SERVICIO ( ESTADOSERVICIO ASC ) ;

CREATE INDEX CR.IDX_ESTADOTRANSACCION
	ON CR.TRANSACCION ( ESTADOTRANSACCION ASC ) ;

CREATE INDEX CR.IDX_FACTURAESPERA
	ON CR.TRANSACCION ( CODIGOFACTURAESPERA ASC ) ;

CREATE INDEX CR.IDX_FICHA
	ON CR.AFILIADO ( NUMFICHA ASC ) ;

CREATE INDEX CR.IDX_FINPROMOCION
	ON CR.PROMOCION ( FECHAFINALIZA ASC , HORAFINALIZA ASC ) ;

CREATE INDEX CR.IDX_FORMADEPAGOABONOS
	ON CR.PAGODEABONOS ( CODFORMADEPAGO ASC ) ;

CREATE INDEX CR.IDX_FORMADEPAGOTRANSACCION
	ON CR.PAGODETRANSACCION ( CODFORMADEPAGO ASC , FECHA ASC ) ;

CREATE INDEX CR.IDX_FUNCION
	ON CR.AUDITORIA ( CODFUNCION ASC , CODMODULO ASC ) ;

CREATE INDEX CR.IDX_FUNCIONFUNCIONMETODOS
	ON CR.FUNCIONMETODOS ( CODFUNCION ASC ) ;

CREATE INDEX CR.IDX_FUNCIONFUNCIONPERFIL
	ON CR.FUNCIONPERFIL ( CODFUNCION ASC ) ;

CREATE INDEX CR.IDX_IDAUDITORIA
	ON CR.AUDITORIA ( IDAUDITORIA ASC ) ;

CREATE INDEX CR.IDX_IMPUESTO
	ON CR.IMPUESTOREGION ( CODIMPUESTO ASC ) ;

CREATE INDEX CR.IDX_INICIOPROMOCION
	ON CR.PROMOCION ( FECHAINICIO ASC , HORAINICIO ASC ) ;

CREATE INDEX CR.IDX_LINEASECCIONPRODUCTO
	ON CR.PRODUCTO ( CODLINEASECCION ASC , CODDEPARTAMENTO ASC ) ;

CREATE INDEX CR.IDX_LINSECDETALLEPROMOCION
	ON CR.DETALLEPROMOCION ( CODLINEASECCION ASC ) ;

CREATE INDEX CR.IDX_MARCAPRODUCTO
	ON CR.PRODUCTO ( MARCA ASC ) ;

CREATE INDEX CR.IDX_METODO
	ON CR.FUNCIONMETODOS ( CODMETODO ASC ) ;

CREATE INDEX CR.IDX_METODOMAQUINADEESTADO
	ON CR.MAQUINADEESTADO ( CODMETODO ASC ) ;

CREATE INDEX CR.IDX_MODELOPRODUCTO
	ON CR.PRODUCTO ( MODELO ASC ) ;

CREATE INDEX CR.IDX_MODULOFUNCION
	ON CR.FUNCION ( CODMODULO ASC ) ;

CREATE INDEX CR.IDX_MODULOFUNCIONPERFIL
	ON CR.FUNCIONPERFIL ( CODMODULO ASC ) ;

CREATE INDEX CR.IDX_MONTO
	ON CR.DETALLEAFILIADO ( MONTO ASC ) ;

CREATE INDEX CR.IDX_NOMBRE
	ON CR.AFILIADO ( NOMBRE ASC ) ;

CREATE UNIQUE INDEX CR.IDX_NUMFICHAUSUARIO
	ON CR.USUARIO ( NUMFICHA ASC ) ;

CREATE INDEX CR.IDX_PERFILFUNCIONPERFIL
	ON CR.FUNCIONPERFIL ( CODPERFIL ASC ) ;

CREATE INDEX CR.IDX_PERFILUSUARIO
	ON CR.USUARIO ( CODPERFIL ASC ) ;

CREATE INDEX CR.IDX_PERFILVIGENTE
	ON CR.PERFIL ( REGVIGENTE ASC ) ;

CREATE INDEX CR.IDX_PRODUCDETALLEPROMOCION
	ON CR.DETALLEPROMOCION ( CODPRODUCTO ASC ) ;

CREATE INDEX CR.IDX_PRODUCTDETALLESERVICIO
	ON CR.DETALLESERVICIO ( CODPRODUCTO ASC ) ;

CREATE INDEX CR.IDX_PRODUCTO
	ON CR.PRODCODIGOEXTERNO ( CODPRODUCTO ASC ) ;

CREATE INDEX CR.IDX_PRODUCTODETALLETRANS
	ON CR.DETALLETRANSACCION ( CODPRODUCTO ASC ) ;

CREATE INDEX CR.IDX_PROMODETALLESERVICIO
	ON CR.DETALLESERVICIO ( CODPROMOCION ASC ) ;

CREATE INDEX CR.IDX_PROVEEDORPRODUCTO
	ON CR.PRODUCTO ( REFERENCIAPROVEEDOR ASC ) ;

CREATE INDEX CR.IDX_REGIONIMPUESTO
	ON CR.IMPUESTOREGION ( CODREGION ASC ) ;

CREATE INDEX CR.IDX_REGIONTIENDA
	ON CR.TIENDA ( CODREGION ASC ) ;

CREATE INDEX CR.IDX_SERVICIO
	ON CR.DETALLESERVICIO ( NUMTIENDA ASC , CODTIPOSERVICIO ASC , NUMSERVICIO ASC , FECHA ASC ) ;

CREATE INDEX CR.IDX_SERVICIOABONO
	ON CR.TRANSACCIONABONO ( NUMTIENDA ASC , CODTIPOSERVICIO ASC , NUMSERVICIO ASC , FECHASERVICIO ASC ) ;

CREATE INDEX CR.IDX_SUPERVISOR
	ON CR.DETALLETRANSACCION ( NUMTIENDA ASC , CODSUPERVISOR ASC ) ;

CREATE INDEX CR.IDX_TIENDA
	ON CR.TIENDA ( NUMTIENDA ASC ) ;

CREATE INDEX CR.IDX_TIENDADEVOLUCION
	ON CR.DEVOLUCIONVENTA ( NUMTIENDADEVOLUCION ASC , FECHADEVOLUCION ASC , NUMCAJADEVOLUCION ASC , NUMTRANSACCIONDEV ASC ) ;

CREATE INDEX CR.IDX_TIENDATRANSACCION
	ON CR.TRANSACCION ( NUMTIENDA ASC , TIPOTRANSACCION ASC ) ;

CREATE INDEX CR.IDX_TIENDAUSUARIO
	ON CR.USUARIO ( NUMTIENDA ASC ) ;

CREATE INDEX CR.IDX_TIENDAVENTA
	ON CR.DEVOLUCIONVENTA ( NUMTIENDAVENTA ASC , FECHAVENTA ASC , NUMCAJAVENTA ASC , NUMTRANSACCIONVTA ASC ) ;

CREATE INDEX CR.IDX_TIPOCAPTURA
	ON CR.DETALLESERVICIO ( CODTIPOCAPTURA ASC ) ;

CREATE INDEX CR.IDX_TIPOCAPTURADETALLETRANS
	ON CR.DETALLETRANSACCION ( CODTIPOCAPTURA ASC ) ;

CREATE INDEX CR.IDX_TIPOFORMADEPAGO
	ON CR.FORMADEPAGO ( TIPOFORMADEPAGO ASC ) ;

CREATE INDEX CR.IDX_TIPOPROMOCION
	ON CR.PROMOCION ( TIPOPROMOCION ASC ) ;

CREATE INDEX CR.IDX_TIPOREGISTRO
	ON CR.AUDITORIA ( TIPOREGISTRO ASC ) ;

CREATE INDEX CR.IDX_TIPOSERVICIO
	ON CR.DETALLESERVICIO ( CODTIPOSERVICIO ASC ) ;

CREATE INDEX CR.IDX_TIPOSERVICIOABONO
	ON CR.TRANSACCIONABONO ( CODTIPOSERVICIO ASC ) ;

CREATE INDEX CR.IDX_TIPOTRANSACCION
	ON CR.DEVOLUCIONVENTA ( TIPOTRANSACCION ASC ) ;

CREATE INDEX CR.IDX_TRANSACCION
	ON CR.PAGODETRANSACCION ( NUMTIENDA ASC , FECHA ASC , NUMCAJA ASC , NUMTRANSACCION ASC ) ;

CREATE INDEX CR.IDX_TRANSACCIONABONO
	ON CR.PAGODEABONOS ( NUMTIENDA ASC , NUMCAJA ASC , FECHA ASC , NUMABONO ASC ) ;

CREATE INDEX CR.IDX_TRANSACCIONABONOANULACION
	ON CR.ANULACIONDEABONOS ( NUMTIENDA ASC , NUMCAJA ASC , FECHAABONO ASC , NUMABONO ASC , NUMSERVICIO ASC ) ;

CREATE INDEX CR.IDX_TRANSACCIONABONOCAJA
	ON CR.TRANSACCIONABONO ( TIPOTRANSACCIONABONO ASC , NUMCAJA ASC , FECHA ASC ) ;

CREATE UNIQUE WHERE NOT NULL INDEX CR.IDX_TRANSACCIONCABECERA
	ON CR.TRANSACCION ( NUMTIENDA ASC , FECHA ASC , NUMCAJAFINALIZA ASC , NUMTRANSACCION ASC ) ;

CREATE INDEX CR.IDX_TRANSACCIONFINAL
	ON CR.DETALLETRANSACCION ( NUMTIENDA ASC , FECHA ASC , NUMCAJAFINALIZA ASC , NUMTRANSACCION ASC ) ;

CREATE INDEX CR.IDX_TRANSACCIONTEMPORAL
	ON CR.DETALLETRANSACCION ( NUMTIENDA ASC , FECHA ASC , NUMCAJAINICIA ASC , NUMREGCAJAINICIA ASC ) ;

CREATE INDEX CR.IDX_UNIDADVENTAPRODUCTO
	ON CR.PRODUCTO ( CODUNIDADVENTA ASC ) ;

CREATE INDEX CR.IDX_USUARIO
	ON CR.AUDITORIA ( NUMTIENDA ASC , CODUSUARIO ASC ) ;

CREATE INDEX CR.IDX_USUARIOCAJA
	ON CR.CAJA ( CODUSUARIO ASC ) ;

CREATE INDEX CR.IDX_USUARIOTIENDA
	ON CR.AUDITORIA ( NUMTIENDA ASC , NUMCAJA ASC , CODUSUARIO ASC , CODFUNCION ASC , FECHA ASC ) ;

CREATE INDEX CR.IDX_USUARIOVIGENTE
	ON CR.USUARIO ( REGVIGENTE ASC ) ;

CREATE INDEX CR.IDX_VENDEDORDETALLETRANS
	ON CR.DETALLETRANSACCION ( NUMTIENDA ASC , CODVENDEDOR ASC ) ;

CREATE INDEX CR.IDX_VIGENTEBANCO
	ON CR.BANCO ( REGVIGENTE ASC ) ;

CREATE INDEX CR.IDX_VIGENTEFORMADEPAGO
	ON CR.FORMADEPAGO ( REGVIGENTE ASC ) ;

CREATE INDEX CR.IDX_VIGENTES
	ON CR.ANULACIONDEABONOS ( REGACTUALIZADO ASC ) ;

CREATE INDEX CR.IDX_VIGENTESFUNCION
	ON CR.FUNCION ( REGVIGENTE ASC ) ;

CREATE INDEX CR.SERVICIO_SAC_TRANSF
	ON CR.SERVICIO ( NUMCAJAVENTA ASC , NUMTRANSACCIONVENTA ASC , FECHATRANSACCIONVNTA ASC , NUMTIENDA ASC , CODTIPOSERVICIO ASC ) ;

CREATE VIEW CR.PROMINM002 (
	CODPROMOCION FOR COLUMN CODPR00001 ,
	NUMDETALLE ,
	NUMCUPON ,
	CODDEPARTAMENTO FOR COLUMN CODDE00001 ,
	CODLINEASECCION FOR COLUMN CODLI00001 ,
	CODPRODUCTO FOR COLUMN CODPR00002 ,
	PORCENTAJEDESCUENTO FOR COLUMN PORCE00001 ,
	PRECIOFINAL FOR COLUMN PRECI00001 )
	AS
	SELECT
			DETPROMOCIONINMEDIATA.CODPROMOCION,
			DETPROMOCIONINMEDIATA.NUMDETALLE,
			DETPROMOCIONINMEDIATA.NUMCUPON,
			DETPROMOCIONINMEDIATA.CODDEPARTAMENTO,
			DETPROMOCIONINMEDIATA.CODLINEASECCION,
			DETPROMOCIONINMEDIATA.CODPRODUCTO,
			DETPROMOCIONINMEDIATA.PORCENTAJEDESCUENTO,
			DETPROMOCIONINMEDIATA.PRECIOFINAL
			FROM CR.DETPR00001 DETPROMOCIONINMEDIATA WHERE DETPROMOCIONINMEDIATA.CODTIENDA = 02 ;

LABEL ON TABLE CR.PROMINM002
	IS 'Detalles de Promociones Tienda 02 - 915' ;

CREATE VIEW CR.PROMINM003 (
	CODPROMOCION FOR COLUMN CODPR00001 ,
	NUMDETALLE ,
	NUMCUPON ,
	CODDEPARTAMENTO FOR COLUMN CODDE00001 ,
	CODLINEASECCION FOR COLUMN CODLI00001 ,
	CODPRODUCTO FOR COLUMN CODPR00002 ,
	PORCENTAJEDESCUENTO FOR COLUMN PORCE00001 ,
	PRECIOFINAL FOR COLUMN PRECI00001 )
	AS
	SELECT
			DETPROMOCIONINMEDIATA.CODPROMOCION,
			DETPROMOCIONINMEDIATA.NUMDETALLE,
			DETPROMOCIONINMEDIATA.NUMCUPON,
			DETPROMOCIONINMEDIATA.CODDEPARTAMENTO,
			DETPROMOCIONINMEDIATA.CODLINEASECCION,
			DETPROMOCIONINMEDIATA.CODPRODUCTO,
			DETPROMOCIONINMEDIATA.PORCENTAJEDESCUENTO,
			DETPROMOCIONINMEDIATA.PRECIOFINAL
			FROM CR.DETPR00001 DETPROMOCIONINMEDIATA WHERE DETPROMOCIONINMEDIATA.CODTIENDA = 03 ;

LABEL ON TABLE CR.PROMINM003
	IS 'Detalles de Promociones Tienda 03 - 915' ;

CREATE VIEW CR.PROMINM007 (
	CODPROMOCION FOR COLUMN CODPR00001 ,
	NUMDETALLE ,
	NUMCUPON ,
	CODDEPARTAMENTO FOR COLUMN CODDE00001 ,
	CODLINEASECCION FOR COLUMN CODLI00001 ,
	CODPRODUCTO FOR COLUMN CODPR00002 ,
	PORCENTAJEDESCUENTO FOR COLUMN PORCE00001 ,
	PRECIOFINAL FOR COLUMN PRECI00001 )
	AS
	SELECT
			DETPROMOCIONINMEDIATA.CODPROMOCION,
			DETPROMOCIONINMEDIATA.NUMDETALLE,
			DETPROMOCIONINMEDIATA.NUMCUPON,
			DETPROMOCIONINMEDIATA.CODDEPARTAMENTO,
			DETPROMOCIONINMEDIATA.CODLINEASECCION,
			DETPROMOCIONINMEDIATA.CODPRODUCTO,
			DETPROMOCIONINMEDIATA.PORCENTAJEDESCUENTO,
			DETPROMOCIONINMEDIATA.PRECIOFINAL
			FROM CR.DETPR00001 DETPROMOCIONINMEDIATA WHERE DETPROMOCIONINMEDIATA.CODTIENDA = 07 ;

LABEL ON TABLE CR.PROMINM007
	IS 'Detalles de Promociones Tienda 07 - 915' ;

CREATE VIEW CR.PROMINM009 (
	CODPROMOCION FOR COLUMN CODPR00001 ,
	NUMDETALLE ,
	NUMCUPON ,
	CODDEPARTAMENTO FOR COLUMN CODDE00001 ,
	CODLINEASECCION FOR COLUMN CODLI00001 ,
	CODPRODUCTO FOR COLUMN CODPR00002 ,
	PORCENTAJEDESCUENTO FOR COLUMN PORCE00001 ,
	PRECIOFINAL FOR COLUMN PRECI00001 )
	AS
	SELECT
			DETPROMOCIONINMEDIATA.CODPROMOCION,
			DETPROMOCIONINMEDIATA.NUMDETALLE,
			DETPROMOCIONINMEDIATA.NUMCUPON,
			DETPROMOCIONINMEDIATA.CODDEPARTAMENTO,
			DETPROMOCIONINMEDIATA.CODLINEASECCION,
			DETPROMOCIONINMEDIATA.CODPRODUCTO,
			DETPROMOCIONINMEDIATA.PORCENTAJEDESCUENTO,
			DETPROMOCIONINMEDIATA.PRECIOFINAL
			FROM CR.DETPR00001 DETPROMOCIONINMEDIATA WHERE DETPROMOCIONINMEDIATA.CODTIENDA = 09 ;

LABEL ON TABLE CR.PROMINM009
	IS 'Detalles de Promociones Tienda 09 - 915' ;

CREATE VIEW CR.PROMINM010 (
	CODPROMOCION FOR COLUMN CODPR00001 ,
	NUMDETALLE ,
	NUMCUPON ,
	CODDEPARTAMENTO FOR COLUMN CODDE00001 ,
	CODLINEASECCION FOR COLUMN CODLI00001 ,
	CODPRODUCTO FOR COLUMN CODPR00002 ,
	PORCENTAJEDESCUENTO FOR COLUMN PORCE00001 ,
	PRECIOFINAL FOR COLUMN PRECI00001 )
	AS
	SELECT
			DETPROMOCIONINMEDIATA.CODPROMOCION,
			DETPROMOCIONINMEDIATA.NUMDETALLE,
			DETPROMOCIONINMEDIATA.NUMCUPON,
			DETPROMOCIONINMEDIATA.CODDEPARTAMENTO,
			DETPROMOCIONINMEDIATA.CODLINEASECCION,
			DETPROMOCIONINMEDIATA.CODPRODUCTO,
			DETPROMOCIONINMEDIATA.PORCENTAJEDESCUENTO,
			DETPROMOCIONINMEDIATA.PRECIOFINAL
			FROM CR.DETPR00001 DETPROMOCIONINMEDIATA WHERE DETPROMOCIONINMEDIATA.CODTIENDA = 10 ;

LABEL ON TABLE CR.PROMINM010
	IS 'Detalles de Promociones Tienda 10 - 915' ;

CREATE VIEW CR.PROMINM015 (
	CODPROMOCION FOR COLUMN CODPR00001 ,
	NUMDETALLE ,
	NUMCUPON ,
	CODDEPARTAMENTO FOR COLUMN CODDE00001 ,
	CODLINEASECCION FOR COLUMN CODLI00001 ,
	CODPRODUCTO FOR COLUMN CODPR00002 ,
	PORCENTAJEDESCUENTO FOR COLUMN PORCE00001 ,
	PRECIOFINAL FOR COLUMN PRECI00001 )
	AS
	SELECT
			DETPROMOCIONINMEDIATA.CODPROMOCION,
			DETPROMOCIONINMEDIATA.NUMDETALLE,
			DETPROMOCIONINMEDIATA.NUMCUPON,
			DETPROMOCIONINMEDIATA.CODDEPARTAMENTO,
			DETPROMOCIONINMEDIATA.CODLINEASECCION,
			DETPROMOCIONINMEDIATA.CODPRODUCTO,
			DETPROMOCIONINMEDIATA.PORCENTAJEDESCUENTO,
			DETPROMOCIONINMEDIATA.PRECIOFINAL
			FROM CR.DETPR00001 DETPROMOCIONINMEDIATA WHERE DETPROMOCIONINMEDIATA.CODTIENDA = 15 ;

LABEL ON TABLE CR.PROMINM015
	IS 'Detalles de Promociones Tienda 15 - 915' ;

CREATE VIEW CR.PROMINM016 (
	CODPROMOCION FOR COLUMN CODPR00001 ,
	NUMDETALLE ,
	NUMCUPON ,
	CODDEPARTAMENTO FOR COLUMN CODDE00001 ,
	CODLINEASECCION FOR COLUMN CODLI00001 ,
	CODPRODUCTO FOR COLUMN CODPR00002 ,
	PORCENTAJEDESCUENTO FOR COLUMN PORCE00001 ,
	PRECIOFINAL FOR COLUMN PRECI00001 )
	AS
	SELECT
			DETPROMOCIONINMEDIATA.CODPROMOCION,
			DETPROMOCIONINMEDIATA.NUMDETALLE,
			DETPROMOCIONINMEDIATA.NUMCUPON,
			DETPROMOCIONINMEDIATA.CODDEPARTAMENTO,
			DETPROMOCIONINMEDIATA.CODLINEASECCION,
			DETPROMOCIONINMEDIATA.CODPRODUCTO,
			DETPROMOCIONINMEDIATA.PORCENTAJEDESCUENTO,
			DETPROMOCIONINMEDIATA.PRECIOFINAL
			FROM CR.DETPR00001 DETPROMOCIONINMEDIATA WHERE DETPROMOCIONINMEDIATA.CODTIENDA = 16 ;

LABEL ON TABLE CR.PROMINM016
	IS 'Detalles de Promociones Tienda 16 - 915' ;

CREATE VIEW CR.PROMINM017 (
	CODPROMOCION FOR COLUMN CODPR00001 ,
	NUMDETALLE ,
	NUMCUPON ,
	CODDEPARTAMENTO FOR COLUMN CODDE00001 ,
	CODLINEASECCION FOR COLUMN CODLI00001 ,
	CODPRODUCTO FOR COLUMN CODPR00002 ,
	PORCENTAJEDESCUENTO FOR COLUMN PORCE00001 ,
	PRECIOFINAL FOR COLUMN PRECI00001 )
	AS
	SELECT
				DETPROMOCIONINMEDIATA.CODPROMOCION,
				DETPROMOCIONINMEDIATA.NUMDETALLE,
				DETPROMOCIONINMEDIATA.NUMCUPON,
				DETPROMOCIONINMEDIATA.CODDEPARTAMENTO,
				DETPROMOCIONINMEDIATA.CODLINEASECCION,
				DETPROMOCIONINMEDIATA.CODPRODUCTO,
				DETPROMOCIONINMEDIATA.PORCENTAJEDESCUENTO,
				DETPROMOCIONINMEDIATA.PRECIOFINAL
				FROM CR.DETPR00001 DETPROMOCIONINMEDIATA WHERE DETPROMOCIONINMEDIATA.CODTIENDA = 17 ;

LABEL ON TABLE CR.PROMINM017
	IS 'Detalles de Promociones Tienda 17 - 915' ;

CREATE VIEW CR.PROMTDA002 (
	CODPROMOCION FOR COLUMN CODPR00001 ,
	NUMDETALLE ,
	NUMCUPON ,
	CODDEPARTAMENTO FOR COLUMN CODDE00001 ,
	CODLINEASECCION FOR COLUMN CODLI00001 ,
	CODPRODUCTO FOR COLUMN CODPR00002 ,
	PORCENTAJEDESCUENTO FOR COLUMN PORCE00001 ,
	PRECIOFINAL FOR COLUMN PRECI00001 )
	AS
	SELECT
		DETALLEPROMOCION.CODPROMOCION,
		DETALLEPROMOCION.NUMDETALLE,
		DETALLEPROMOCION.NUMCUPON,
		DETALLEPROMOCION.CODDEPARTAMENTO,
		DETALLEPROMOCION.CODLINEASECCION,
		DETALLEPROMOCION.CODPRODUCTO,
		DETALLEPROMOCION.PORCENTAJEDESCUENTO,
		DETALLEPROMOCION.PRECIOFINAL
		FROM CR.DETAL00002 DETALLEPROMOCION WHERE DETALLEPROMOCION.CODTIENDA = 02 ;

LABEL ON TABLE CR.PROMTDA002
	IS 'Detalles de Promociones Tienda 02' ;

CREATE VIEW CR.PROMTDA003 (
	CODPROMOCION FOR COLUMN CODPR00001 ,
	NUMDETALLE ,
	NUMCUPON ,
	CODDEPARTAMENTO FOR COLUMN CODDE00001 ,
	CODLINEASECCION FOR COLUMN CODLI00001 ,
	CODPRODUCTO FOR COLUMN CODPR00002 ,
	PORCENTAJEDESCUENTO FOR COLUMN PORCE00001 ,
	PRECIOFINAL FOR COLUMN PRECI00001 )
	AS
	SELECT
		DETALLEPROMOCION.CODPROMOCION,
		DETALLEPROMOCION.NUMDETALLE,
		DETALLEPROMOCION.NUMCUPON,
		DETALLEPROMOCION.CODDEPARTAMENTO,
		DETALLEPROMOCION.CODLINEASECCION,
		DETALLEPROMOCION.CODPRODUCTO,
		DETALLEPROMOCION.PORCENTAJEDESCUENTO,
		DETALLEPROMOCION.PRECIOFINAL
		FROM CR.DETAL00002 DETALLEPROMOCION WHERE DETALLEPROMOCION.CODTIENDA = 03 ;

LABEL ON TABLE CR.PROMTDA003
	IS 'Detalles de Promociones Tienda 03' ;

CREATE VIEW CR.PROMTDA007 (
	CODPROMOCION FOR COLUMN CODPR00001 ,
	NUMDETALLE ,
	NUMCUPON ,
	CODDEPARTAMENTO FOR COLUMN CODDE00001 ,
	CODLINEASECCION FOR COLUMN CODLI00001 ,
	CODPRODUCTO FOR COLUMN CODPR00002 ,
	PORCENTAJEDESCUENTO FOR COLUMN PORCE00001 ,
	PRECIOFINAL FOR COLUMN PRECI00001 )
	AS
	SELECT
		DETALLEPROMOCION.CODPROMOCION,
		DETALLEPROMOCION.NUMDETALLE,
		DETALLEPROMOCION.NUMCUPON,
		DETALLEPROMOCION.CODDEPARTAMENTO,
		DETALLEPROMOCION.CODLINEASECCION,
		DETALLEPROMOCION.CODPRODUCTO,
		DETALLEPROMOCION.PORCENTAJEDESCUENTO,
		DETALLEPROMOCION.PRECIOFINAL
		FROM CR.DETAL00002 DETALLEPROMOCION WHERE DETALLEPROMOCION.CODTIENDA = 07 ;

LABEL ON TABLE CR.PROMTDA007
	IS 'Detalles de Promociones Tienda 07' ;

CREATE VIEW CR.PROMTDA009 (
	CODPROMOCION FOR COLUMN CODPR00001 ,
	NUMDETALLE ,
	NUMCUPON ,
	CODDEPARTAMENTO FOR COLUMN CODDE00001 ,
	CODLINEASECCION FOR COLUMN CODLI00001 ,
	CODPRODUCTO FOR COLUMN CODPR00002 ,
	PORCENTAJEDESCUENTO FOR COLUMN PORCE00001 ,
	PRECIOFINAL FOR COLUMN PRECI00001 )
	AS
	SELECT
		DETALLEPROMOCION.CODPROMOCION,
		DETALLEPROMOCION.NUMDETALLE,
		DETALLEPROMOCION.NUMCUPON,
		DETALLEPROMOCION.CODDEPARTAMENTO,
		DETALLEPROMOCION.CODLINEASECCION,
		DETALLEPROMOCION.CODPRODUCTO,
		DETALLEPROMOCION.PORCENTAJEDESCUENTO,
		DETALLEPROMOCION.PRECIOFINAL
		FROM CR.DETAL00002 DETALLEPROMOCION WHERE DETALLEPROMOCION.CODTIENDA = 09 ;

LABEL ON TABLE CR.PROMTDA009
	IS 'Detalles de Promociones Tienda 09' ;

CREATE VIEW CR.PROMTDA010 (
	CODPROMOCION FOR COLUMN CODPR00001 ,
	NUMDETALLE ,
	NUMCUPON ,
	CODDEPARTAMENTO FOR COLUMN CODDE00001 ,
	CODLINEASECCION FOR COLUMN CODLI00001 ,
	CODPRODUCTO FOR COLUMN CODPR00002 ,
	PORCENTAJEDESCUENTO FOR COLUMN PORCE00001 ,
	PRECIOFINAL FOR COLUMN PRECI00001 )
	AS
	SELECT
		DETALLEPROMOCION.CODPROMOCION,
		DETALLEPROMOCION.NUMDETALLE,
		DETALLEPROMOCION.NUMCUPON,
		DETALLEPROMOCION.CODDEPARTAMENTO,
		DETALLEPROMOCION.CODLINEASECCION,
		DETALLEPROMOCION.CODPRODUCTO,
		DETALLEPROMOCION.PORCENTAJEDESCUENTO,
		DETALLEPROMOCION.PRECIOFINAL
		FROM CR.DETAL00002 DETALLEPROMOCION WHERE DETALLEPROMOCION.CODTIENDA = 10 ;

LABEL ON TABLE CR.PROMTDA010
	IS 'Detalles de Promociones Tienda 10' ;

CREATE VIEW CR.PROMTDA015 (
	CODPROMOCION FOR COLUMN CODPR00001 ,
	NUMDETALLE ,
	NUMCUPON ,
	CODDEPARTAMENTO FOR COLUMN CODDE00001 ,
	CODLINEASECCION FOR COLUMN CODLI00001 ,
	CODPRODUCTO FOR COLUMN CODPR00002 ,
	PORCENTAJEDESCUENTO FOR COLUMN PORCE00001 ,
	PRECIOFINAL FOR COLUMN PRECI00001 )
	AS
	SELECT
		DETALLEPROMOCION.CODPROMOCION,
		DETALLEPROMOCION.NUMDETALLE,
		DETALLEPROMOCION.NUMCUPON,
		DETALLEPROMOCION.CODDEPARTAMENTO,
		DETALLEPROMOCION.CODLINEASECCION,
		DETALLEPROMOCION.CODPRODUCTO,
		DETALLEPROMOCION.PORCENTAJEDESCUENTO,
		DETALLEPROMOCION.PRECIOFINAL
		FROM CR.DETAL00002 DETALLEPROMOCION WHERE DETALLEPROMOCION.CODTIENDA = 15 ;

LABEL ON TABLE CR.PROMTDA015
	IS 'Detalles de Promociones Tienda 15' ;

CREATE VIEW CR.PROMTDA016 (
	CODPROMOCION FOR COLUMN CODPR00001 ,
	NUMDETALLE ,
	NUMCUPON ,
	CODDEPARTAMENTO FOR COLUMN CODDE00001 ,
	CODLINEASECCION FOR COLUMN CODLI00001 ,
	CODPRODUCTO FOR COLUMN CODPR00002 ,
	PORCENTAJEDESCUENTO FOR COLUMN PORCE00001 ,
	PRECIOFINAL FOR COLUMN PRECI00001 )
	AS
	SELECT
		DETALLEPROMOCION.CODPROMOCION,
		DETALLEPROMOCION.NUMDETALLE,
		DETALLEPROMOCION.NUMCUPON,
		DETALLEPROMOCION.CODDEPARTAMENTO,
		DETALLEPROMOCION.CODLINEASECCION,
		DETALLEPROMOCION.CODPRODUCTO,
		DETALLEPROMOCION.PORCENTAJEDESCUENTO,
		DETALLEPROMOCION.PRECIOFINAL
		FROM CR.DETAL00002 DETALLEPROMOCION WHERE DETALLEPROMOCION.CODTIENDA = 16 ;

LABEL ON TABLE CR.PROMTDA016
	IS 'Detalles de Promociones Tienda 16' ;

CREATE VIEW CR.PROMTDA017 (
	CODPROMOCION FOR COLUMN CODPR00001 ,
	NUMDETALLE ,
	NUMCUPON ,
	CODDEPARTAMENTO FOR COLUMN CODDE00001 ,
	CODLINEASECCION FOR COLUMN CODLI00001 ,
	CODPRODUCTO FOR COLUMN CODPR00002 ,
	PORCENTAJEDESCUENTO FOR COLUMN PORCE00001 ,
	PRECIOFINAL FOR COLUMN PRECI00001 )
	AS
	SELECT
			DETALLEPROMOCION.CODPROMOCION,
			DETALLEPROMOCION.NUMDETALLE,
			DETALLEPROMOCION.NUMCUPON,
			DETALLEPROMOCION.CODDEPARTAMENTO,
			DETALLEPROMOCION.CODLINEASECCION,
			DETALLEPROMOCION.CODPRODUCTO,
			DETALLEPROMOCION.PORCENTAJEDESCUENTO,
			DETALLEPROMOCION.PRECIOFINAL
			FROM CR.DETAL00002 DETALLEPROMOCION WHERE DETALLEPROMOCION.CODTIENDA = 17 ;

LABEL ON TABLE CR.PROMTDA017
	IS 'Detalles de Promociones Tienda 17' ;

CREATE TRIGGER CR.DESMARCARTRANSACCIONREC
	AFTER INSERT ON CR.DEVOLUCIONVENTA
	REFERENCING NEW AS FILANUEVA
	FOR EACH ROW
	MODE DB2ROW
	SET OPTION  ALWBLK = *ALLREAD ,
	ALWCPYDTA = *OPTIMIZE ,
	COMMIT = *NONE ,
	DECRESULT = (31, 31, 00) ,
	DFTRDBCOL = CR ,
	DYNDFTCOL = *NO ,
	DYNUSRPRF = *USER ,
	SRTSEQ = *HEX
	BEGIN ATOMIC
	DELETE FROM CR . TRANSACCIONRECUPERADA D WHERE
		D . NUMTIENDA = FILANUEVA . NUMTIENDAVENTA AND
		D . FECHA = FILANUEVA . FECHAVENTA AND
		D . NUMCAJA = FILANUEVA . NUMCAJAVENTA AND
		D . NUMTRANSACCION = FILANUEVA . NUMTRANSACCIONVTA ;
	END  ;

COMMENT ON TRIGGER CR.DESMARCARTRANSACCIONREC IS 'Desmarca Transaccion recuperada para Devolucion' ;
